{"config":{"title":"Order Primer","description":"No description given","copyright":"No copyright declared","version":"no version info","authors":[],"maintainer":{"name":"No maintainer","email":"noone@nowehere"},"acknowledgements":[],"github":{"repo":"none","user":"none","access_token":"none"},"keywords":[],"aquadoc_version":"1.0.0"},"components":[{"sample_types":[{"id":1,"name":"Primer","description":"The primer stock solutions are diluted to 25 uM. Primer melting temperatures should be calculated using the **NEB Tm calculator http://tmcalculator.neb.com/#!/main configured for Phusion High-Fidelity DNA Polymerase (HF Buffer)** for standard PCR reaction","created_at":"2013-10-08T10:18:01.000-07:00","updated_at":"2018-02-25T04:40:37.000-08:00","field_types":[{"id":1,"parent_id":1,"name":"Overhang Sequence","ftype":"string","choices":null,"array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":2,"parent_id":1,"name":"Anneal Sequence","ftype":"string","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":3,"parent_id":1,"name":"T Anneal","ftype":"number","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":2207,"parent_id":1,"name":"URL","ftype":"url","choices":null,"array":false,"required":false,"created_at":"2017-07-24T14:21:24.000-07:00","updated_at":"2017-07-24T14:21:24.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]}]}],"object_types":[{"id":513,"name":"Lyophilized Primer","description":"White powder, usually not visible","min":1,"max":10000,"handler":"sample_container","safety":"","cleanup":"","data":"{\r\n\"opentrons_labware\": \"24-well-1.5ml-rack\"\r\n}","vendor":"","created_at":"2016-11-08T15:08:30.000-08:00","updated_at":"2018-09-04T19:56:57.000-07:00","unit":"tube","cost":5.0,"release_method":"return","release_description":"","sample_type_id":1,"image":"","prefix":"","rows":null,"columns":null,"sample_type_name":"Primer"}],"operation_type":{"name":"Order Primer","category":"Cloning","deployed":false,"on_the_fly":false,"field_types":[{"ftype":"sample","role":"output","name":"Primer","sample_types":["Primer"],"object_types":["Lyophilized Primer"],"part":false,"array":false,"routing":"P","preferred_operation_type_id":null,"preferred_field_type_id":null,"choices":null}],"protocol":"needs \"Standard Libs/Ordering Lib\"\n\nclass Protocol\n  include Ordering\n  require 'date'\n\n  def main\n\n    operations.retrieve.make\n    \n    show do\n      title \"Prepare to order primer\"\n      \n      check \"Go to the \u003ca href='https://www.idtdna.com' target='_blank'\u003eIDT website\u003c/a\u003e, log in with the lab account. (Username: lortiz15, password is densmore2016).\"\n      warning \"Ensure that you are logged in to this exact username and password!\"\n    end\n\n    # make primer table\n    tab = operations.map do |op|\n      primer = op.output(\"Primer\").sample\n      [\"Item ID: \" + op.output(\"Primer\").item.id.to_s + \" \" + primer.name, primer.properties[\"Overhang Sequence\"] + primer.properties[\"Anneal Sequence\"]]\n    end\n    \n    # make lists of primers of different lengths\n    operations.each { |op| op.temporary[:length] = (op.output(\"Primer\").sample.properties[\"Overhang Sequence\"] + op.output(\"Primer\").sample.properties[\"Anneal Sequence\"]).length }\n    \n    primers_over_60 = operations.select do |op| \n      length = op.temporary[:length]\n      length \u003e 60 \u0026\u0026 length \u003c= 90\n    end.map do |op|\n        op.output(\"Primer\").item\n    end.to_sentence\n    \n    primers_over_90 = operations.select do |op| \n      length = op.temporary[:length]\n      length \u003e 90\n    end.map do |op| \n        op.output(\"Primer\").item\n    end.to_sentence\n    \n    # show primer table\n    show do\n      title \"Create an IDT DNA oligos order\"\n      check \"Go to the \u003ca href='https://www.idtdna.com/site/order/oligoentry'\u003eoligo entry page\u003c/a\u003e, click Bulk Input. Copy paste the following table and then click the Update button.\"\n      \n      table tab\n      check \"Scale for primer(s) #{primers_over_60} will have to be set to \\\"100 nmole DNA oligo.\\\"\" if primers_over_60 != \"\"\n      check \"Scale amount for primer(s) #{primers_over_90} will have to be set to \\\"4 nmole Ultramer DNA Oligo.\\\"\" if primers_over_90 != \"\"\n    end\n      \n    data = show do\n      title \"Add to Order\"\n      \n      check \"Click Add to Order, review the shopping cart to double check that you entered correctly. There should be #{operations.length} primers in the cart.\"\n      check \"Select quote number 123830 and click apply.\"\n      check \"Click Checkout, then click Continue.\"\n      \n      get \"number\", var: \"price\", label: \"Enter the total cost ($)\", default: operations.running.count*4\n      \n      check \"Enter the payment information: click on the oligo card tab, select the 816584606967 in Choose Payment and then click Submit Order.\"\n      check \"Click on Return Home, go to your \u003ca href='https://www.idtdna.com/site/orderstatus/orderstatus'\u003eorder history\u003c/a\u003e to find the Order Nbr (you may have to refresh the page a few times and wait 5-10 minutes before the order shows up).\"\n      \n      warning \"Do not forget to insert the order number before moving foward.\"\n      \n      get \"text\", var: \"order_number\", label: \"Enter the IDT order number\", default: 100\n    end\n\n\n    operations.each { |op| op.set_output_data(\"Primer\", :order_number, data[:order_number]) }\n    \n    place_DNA_order [\"IDT\", data[:order_number], operations.running.count, data[:price].round(2), Date.today.strftime('%m/%d/%Y'), \"Aquarium\", \"DLN\"]\n    \n    return {}\n    \n  end\n\nend\n","precondition":"def precondition(op)\n  true\nend","cost_model":"# All related numbers come from 'Damp Lab Services_Dec2019'\n# materials are calculated on 'Damp Lab Services_Dec2019'\n# l stands for labor\n\ndef cost(op)\n    \n  props = op.output(\"Primer\").sample.properties\n  seq = props[\"Overhang Sequence\"] + props[\"Anneal Sequence\"]\n  n = seq.length\n  \n  if n \u003c= 60\n    c = n * Parameter.get_float('short primer cost')\n  elsif n \u003c= 90\n    c = n * Parameter.get_float('medium primer cost')\n  else\n    c = n * Parameter.get_float('long primer cost')\n  end\n  \n  l = 15.27 * Parameter.get_float('labor rate (min)')\n  { labor:0, materials: c+l }\n  \nend","documentation":"This is a precursor to \u003cb\u003eRehydrate Primer\u003c/b\u003e. This operation will submit an order to IDT for a primer (~25 nmol for short primers, more for long primers due to minimum IDT order amounts).","test":"","timing":null}}]}