{"config":{"title":"Edit Collection","description":"No description given","copyright":"No copyright declared","version":"no version info","authors":[],"maintainer":{"name":"No maintainer","email":"noone@nowehere"},"acknowledgements":[],"github":{"repo":"none","user":"none","access_token":"none"},"keywords":[],"aquadoc_version":"1.0.0"},"components":[{"sample_types":[],"object_types":[],"operation_type":{"name":"Edit Collection","category":"Manager","deployed":false,"on_the_fly":false,"field_types":[{"ftype":"number","role":"input","name":"Item ID","sample_types":[],"object_types":[],"part":false,"array":false,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"choices":null}],"protocol":"class Protocol\n  def main\n    operations.retrieve\n    operations.each do |op|\n        item_id = op.input(\"Item ID\").val.to_i\n        col = Collection.find item_id\n        take [col]\n        \n        # remove samples\n        subt = show do \n            title \"how many samples to remove from #{col.id}\"\n            \n            get \"number\", var: \"subt\", label: \"how many to remove\", default: 0\n            get \"number\", var: \"sample\", label: \"Sample ID to remove\", default: 0\n        end\n        if !subt[:subt].nil? \u0026\u0026 !subt[:sample].nil?\n            sample = Sample.find subt[:sample]\n            subt[:subt].times do \n                col.remove_one sample\n            end\n        end\n        \n        # add samples\n        add = show do \n            title \"how many samples to add to #{col.id}\"\n            \n            get \"number\", var: \"add\", label: \"how many to add\", default: 0\n            get \"number\", var: \"sample\", label: \"Sample ID to add\", default: 0\n        end        \n        if !add[:add].nil? \u0026\u0026 !add[:sample].nil?\n            sample = Sample.find add[:sample]\n            add[:add].times do\n                col.add_one sample\n            end\n        end\n         \n        release [col]\n    end\n    return {}\n  end\nend\n","precondition":"def precondition(op)\n  true\nend","cost_model":"def cost(op)\n  { labor: 0, materials: 0 }\nend","documentation":"Documentation here. Start with a paragraph, not a heading or title, as in most views, the title will be supplied by the view.","test":"","timing":null}}]}