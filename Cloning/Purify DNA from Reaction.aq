{"config":{"title":"Purify DNA from Reaction","description":"No description given","copyright":"No copyright declared","version":"no version info","authors":[],"maintainer":{"name":"No maintainer","email":"noone@nowehere"},"acknowledgements":[],"github":{"repo":"none","user":"none","access_token":"none"},"keywords":[],"aquadoc_version":"1.0.0"},"components":[{"sample_types":[{"id":4,"name":"Fragment","description":"A linear double stranded piece of DNA from PCR or Restriction Digest","created_at":"2013-10-16T14:33:41.000-07:00","updated_at":"2015-11-29T07:55:20.000-08:00","field_types":[{"id":11,"parent_id":4,"name":"Sequence","ftype":"url","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2018-02-16T23:49:44.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":12,"parent_id":4,"name":"Length","ftype":"number","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:17:39.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":13,"parent_id":4,"name":"Template","ftype":"sample","choices":null,"array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-12T19:07:59.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":2,"field_type_id":13,"sample_type_id":2,"object_type_id":null,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T20:40:31.000-07:00","sample_type":{"id":2,"name":"Plasmid","description":"A circular piece of double stranded DNA","created_at":"2013-10-15T09:59:25.000-07:00","updated_at":"2015-11-29T07:55:20.000-08:00"}},{"id":3,"field_type_id":13,"sample_type_id":3,"object_type_id":null,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T20:40:31.000-07:00","sample_type":{"id":3,"name":"E. coli strain","description":"A strain of E. coli distinguished from others by genomic (not plasmid) modifications.","created_at":"2013-10-15T10:16:52.000-07:00","updated_at":"2017-07-24T14:24:50.000-07:00"}},{"id":4,"field_type_id":13,"sample_type_id":4,"object_type_id":null,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T20:40:31.000-07:00","sample_type":{"id":4,"name":"Fragment","description":"A linear double stranded piece of DNA from PCR or Restriction Digest","created_at":"2013-10-16T14:33:41.000-07:00","updated_at":"2015-11-29T07:55:20.000-08:00"}}],"sample_types":["Plasmid","E. coli strain","Fragment"],"object_types":[null,null,null]},{"id":14,"parent_id":4,"name":"Forward Primer","ftype":"sample","choices":null,"array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-12T19:07:59.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":6,"field_type_id":14,"sample_type_id":1,"object_type_id":null,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T20:40:31.000-07:00","sample_type":{"id":1,"name":"Primer","description":"The primer stock solutions are diluted to 25 uM. Primer melting temperatures should be calculated using the **NEB Tm calculator http://tmcalculator.neb.com/#!/main configured for Phusion High-Fidelity DNA Polymerase (HF Buffer)** for standard PCR reaction","created_at":"2013-10-08T10:18:01.000-07:00","updated_at":"2018-02-25T04:40:37.000-08:00"}}],"sample_types":["Primer"],"object_types":[null]},{"id":15,"parent_id":4,"name":"Reverse Primer","ftype":"sample","choices":null,"array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-12T19:07:59.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":7,"field_type_id":15,"sample_type_id":1,"object_type_id":null,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T20:40:31.000-07:00","sample_type":{"id":1,"name":"Primer","description":"The primer stock solutions are diluted to 25 uM. Primer melting temperatures should be calculated using the **NEB Tm calculator http://tmcalculator.neb.com/#!/main configured for Phusion High-Fidelity DNA Polymerase (HF Buffer)** for standard PCR reaction","created_at":"2013-10-08T10:18:01.000-07:00","updated_at":"2018-02-25T04:40:37.000-08:00"}}],"sample_types":["Primer"],"object_types":[null]},{"id":6036,"parent_id":4,"name":"Raw Sequence","ftype":"string","choices":null,"array":false,"required":false,"created_at":"2018-02-16T23:48:20.000-08:00","updated_at":"2018-02-16T23:48:20.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]}]},{"id":2,"name":"Plasmid","description":"A circular piece of double stranded DNA","created_at":"2013-10-15T09:59:25.000-07:00","updated_at":"2015-11-29T07:55:20.000-08:00","field_types":[{"id":4,"parent_id":2,"name":"Sequence","ftype":"url","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:30:08.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":5,"parent_id":2,"name":"Sequence Verification","ftype":"url","choices":null,"array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:16:33.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":6,"parent_id":2,"name":"Bacterial Marker 1","ftype":"string","choices":"Amp, Cam, Carb, Kan, Spec, Strep, Other, N/A","array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2020-03-05T14:47:09.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":7,"parent_id":2,"name":"Yeast Marker","ftype":"string","choices":"HIS, TRP, URA, LEU, NatMX, KanMX, HygMX, BleoMX ,5FOA, N/A, Other","array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2017-07-24T14:23:40.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":8,"parent_id":2,"name":"Length","ftype":"number","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:16:33.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":42,"parent_id":2,"name":"Sequencing Primers","ftype":"sample","choices":null,"array":true,"required":false,"created_at":"2016-05-09T21:30:48.000-07:00","updated_at":"2016-05-09T21:30:48.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":26,"field_type_id":42,"sample_type_id":1,"object_type_id":null,"created_at":"2016-05-09T21:30:48.000-07:00","updated_at":"2016-05-09T21:30:48.000-07:00","sample_type":{"id":1,"name":"Primer","description":"The primer stock solutions are diluted to 25 uM. Primer melting temperatures should be calculated using the **NEB Tm calculator http://tmcalculator.neb.com/#!/main configured for Phusion High-Fidelity DNA Polymerase (HF Buffer)** for standard PCR reaction","created_at":"2013-10-08T10:18:01.000-07:00","updated_at":"2018-02-25T04:40:37.000-08:00"}}],"sample_types":["Primer"],"object_types":[null]},{"id":2246,"parent_id":2,"name":"Alias","ftype":"string","choices":"Promoter, CDS, Terminator, Backbone, RBS, Marker, Insulator, Reporter Plasmid, Gate, Circuit w/ Reporter Plasmid, Other, N/A","array":false,"required":false,"created_at":"2017-08-28T09:14:15.000-07:00","updated_at":"2020-03-05T14:51:23.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":10458,"parent_id":2,"name":"Bacterial Marker 2","ftype":"string","choices":"Amp, Cam, Carb, Kan, Spec, Strep, Other, N/A","array":false,"required":true,"created_at":"2020-03-05T14:47:09.000-08:00","updated_at":"2020-03-05T14:47:57.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]}]},{"id":1,"name":"Primer","description":"The primer stock solutions are diluted to 25 uM. Primer melting temperatures should be calculated using the **NEB Tm calculator http://tmcalculator.neb.com/#!/main configured for Phusion High-Fidelity DNA Polymerase (HF Buffer)** for standard PCR reaction","created_at":"2013-10-08T10:18:01.000-07:00","updated_at":"2018-02-25T04:40:37.000-08:00","field_types":[{"id":1,"parent_id":1,"name":"Overhang Sequence","ftype":"string","choices":null,"array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":2,"parent_id":1,"name":"Anneal Sequence","ftype":"string","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":3,"parent_id":1,"name":"T Anneal","ftype":"number","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":2207,"parent_id":1,"name":"URL","ftype":"url","choices":null,"array":false,"required":false,"created_at":"2017-07-24T14:21:24.000-07:00","updated_at":"2017-07-24T14:21:24.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]}]},{"id":3,"name":"E. coli strain","description":"A strain of E. coli distinguished from others by genomic (not plasmid) modifications.","created_at":"2013-10-15T10:16:52.000-07:00","updated_at":"2017-07-24T14:24:50.000-07:00","field_types":[{"id":10,"parent_id":3,"name":"Parent","ftype":"sample","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2017-07-24T14:24:50.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":1,"field_type_id":10,"sample_type_id":3,"object_type_id":null,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T20:40:31.000-07:00","sample_type":{"id":3,"name":"E. coli strain","description":"A strain of E. coli distinguished from others by genomic (not plasmid) modifications.","created_at":"2013-10-15T10:16:52.000-07:00","updated_at":"2017-07-24T14:24:50.000-07:00"}}],"sample_types":["E. coli strain"],"object_types":[null]}]},{"id":40,"name":"Digested DNA","description":"Temporary samples containing a digested piece of double stranded DNA.","created_at":"2018-01-31T15:55:23.000-08:00","updated_at":"2018-01-31T15:55:23.000-08:00","field_types":[{"id":2710,"parent_id":40,"name":"Input DNA","ftype":"sample","choices":null,"array":false,"required":true,"created_at":"2018-01-31T15:55:23.000-08:00","updated_at":"2018-03-02T07:42:32.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":2527,"field_type_id":2710,"sample_type_id":2,"object_type_id":null,"created_at":"2018-01-31T15:55:23.000-08:00","updated_at":"2018-01-31T16:21:28.000-08:00","sample_type":{"id":2,"name":"Plasmid","description":"A circular piece of double stranded DNA","created_at":"2013-10-15T09:59:25.000-07:00","updated_at":"2015-11-29T07:55:20.000-08:00"}},{"id":2532,"field_type_id":2710,"sample_type_id":4,"object_type_id":null,"created_at":"2018-01-31T16:21:28.000-08:00","updated_at":"2018-01-31T16:21:28.000-08:00","sample_type":{"id":4,"name":"Fragment","description":"A linear double stranded piece of DNA from PCR or Restriction Digest","created_at":"2013-10-16T14:33:41.000-07:00","updated_at":"2015-11-29T07:55:20.000-08:00"}}],"sample_types":["Plasmid","Fragment"],"object_types":[null,null]},{"id":2713,"parent_id":40,"name":"Restriction Enzyme 1","ftype":"sample","choices":"EcoRI, SpeI, XbaI, SacI","array":false,"required":true,"created_at":"2018-01-31T15:55:23.000-08:00","updated_at":"2018-02-01T12:33:34.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":2533,"field_type_id":2713,"sample_type_id":6,"object_type_id":null,"created_at":"2018-01-31T16:21:28.000-08:00","updated_at":"2018-01-31T16:21:28.000-08:00","sample_type":{"id":6,"name":"Enzyme","description":"Enzymes in 1.5 mL tubes stored at -20C","created_at":"2013-12-31T10:23:07.000-08:00","updated_at":"2015-12-08T17:39:25.000-08:00"}}],"sample_types":["Enzyme"],"object_types":[null]},{"id":2714,"parent_id":40,"name":"Restriction Enzyme 2","ftype":"sample","choices":null,"array":false,"required":true,"created_at":"2018-01-31T15:55:23.000-08:00","updated_at":"2018-02-01T12:33:34.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":2529,"field_type_id":2714,"sample_type_id":6,"object_type_id":null,"created_at":"2018-01-31T15:55:23.000-08:00","updated_at":"2018-01-31T16:21:28.000-08:00","sample_type":{"id":6,"name":"Enzyme","description":"Enzymes in 1.5 mL tubes stored at -20C","created_at":"2013-12-31T10:23:07.000-08:00","updated_at":"2015-12-08T17:39:25.000-08:00"}}],"sample_types":["Enzyme"],"object_types":[null]},{"id":2759,"parent_id":40,"name":"Length","ftype":"number","choices":null,"array":false,"required":true,"created_at":"2018-02-01T12:33:34.000-08:00","updated_at":"2018-02-01T12:33:34.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]}]},{"id":6,"name":"Enzyme","description":"Enzymes in 1.5 mL tubes stored at -20C","created_at":"2013-12-31T10:23:07.000-08:00","updated_at":"2015-12-08T17:39:25.000-08:00","field_types":[{"id":2222,"parent_id":6,"name":"Vendor","ftype":"string","choices":null,"array":false,"required":false,"created_at":"2017-08-10T11:14:33.000-07:00","updated_at":"2017-08-10T11:14:33.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":2223,"parent_id":6,"name":"Vendor #","ftype":"string","choices":null,"array":false,"required":false,"created_at":"2017-08-10T11:14:33.000-07:00","updated_at":"2017-08-10T11:14:33.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":2226,"parent_id":6,"name":"Lot #","ftype":"string","choices":null,"array":false,"required":false,"created_at":"2017-08-10T11:14:50.000-07:00","updated_at":"2017-08-10T11:14:50.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]}]}],"object_types":[{"id":290,"name":"PCR Result","description":"PCR results that contain the fragment we aim to amplify out.","min":0,"max":1000,"handler":"sample_container","safety":"No safety information","cleanup":"No cleanup information","data":"{ \"max_vol\": 100, \"short_description\":\"PCR tube\"}","vendor":"No vendor information","created_at":"2014-01-10T02:39:29.000-08:00","updated_at":"2018-02-10T17:30:38.000-08:00","unit":"Fragment","cost":5.0,"release_method":"query","release_description":"Dispose if there is less than 5 ?L.","sample_type_id":4,"image":"","prefix":"M20SRX","rows":null,"columns":null,"sample_type_name":"Fragment"},{"id":642,"name":"Restriction Digest Product","description":"The impure product of a restriction digest. Should be cleaned up immediately.","min":0,"max":1000,"handler":"sample_container","safety":"No safety information","cleanup":"No cleanup information","data":"{\"max_vol\": 2000.0, \"short_description\":\"1.5 mL tube\"}","vendor":"No vendor information","created_at":"2018-01-31T16:00:26.000-08:00","updated_at":"2018-02-10T16:56:14.000-08:00","unit":"Digested DNA","cost":0.01,"release_method":"dispose","release_description":"","sample_type_id":4,"image":"","prefix":"M20SRX","rows":null,"columns":null,"sample_type_name":"Fragment"},{"id":295,"name":"Fragment Stock","description":"Fragment stock in 1.5 mL tube, usually stored in M20 fridge.","min":0,"max":1000,"handler":"sample_container","safety":"No safety information","cleanup":"No cleanup information","data":"{ \"min_conc\": 0.000000005, \"rec_conc\": 0.000000025, \"max_vol\": 1500, \"conc_callback\": \"nanodrop_dsdna\", \"short_description\":\"1.5 mL tube\", \"opentrons_labware\": \"24-well-1.5ml-rack\"}","vendor":"No vendor information","created_at":"2014-01-12T16:12:01.000-08:00","updated_at":"2018-09-19T18:46:35.000-07:00","unit":"Fragment","cost":50.0,"release_method":"return","release_description":"","sample_type_id":4,"image":"","prefix":"M20P","rows":null,"columns":null,"sample_type_name":"Fragment"},{"id":634,"name":"Digested DNA Stock","description":"A fragment of dsDNA that has already been digested with enzymes and has phosphorylated ends. Typically has sticky ends.","min":0,"max":1,"handler":"sample_container","safety":"No safety information","cleanup":"No cleanup information","data":"{ \"min_conc\": 0.0000000010, \"rec_conc\": 0.000000025, \"max_vol\": 1500, \"conc_callback\": \"nanodrop_dsdna\", \"short_description\":\"1.5 mL tube\", \"opentrons_labware\": \"24-well-1.5ml-rack\"}","vendor":"No vendor information","created_at":"2017-09-26T14:51:58.000-07:00","updated_at":"2018-09-27T13:19:48.000-07:00","unit":"Fragment","cost":0.01,"release_method":"return","release_description":"","sample_type_id":40,"image":"","prefix":"M20SOP","rows":null,"columns":null,"sample_type_name":"Digested DNA"}],"operation_type":{"name":"Purify DNA from Reaction","category":"Cloning","deployed":false,"on_the_fly":false,"field_types":[{"ftype":"sample","role":"input","name":"Impure Reaction","sample_types":["Fragment","Digested DNA"],"object_types":["PCR Result","Restriction Digest Product"],"part":false,"array":false,"routing":"F","preferred_operation_type_id":466,"preferred_field_type_id":2355,"choices":null},{"ftype":"sample","role":"output","name":"Purified DNA","sample_types":["Fragment","Digested DNA"],"object_types":["Fragment Stock","Digested DNA Stock"],"part":false,"array":false,"routing":"F","preferred_operation_type_id":null,"preferred_field_type_id":null,"choices":null}],"protocol":"# Purify Gel Protocol\nneeds \"Standard Libs/Debug Lib\"\nneeds \"Cloning Libs/Cloning\"\n\n#Designed for QIAquick PCR purification kit\n\nclass Protocol\n  include Debug\n  include Cloning\n  \n  def main\n    current_taken_items = []\n    \n    pcr_input_ops = operations.running.select{|op| op.input(\"Impure Reaction\").object_type.name.include?(\"PCR\")}\n    input_volumes = {\"DpnI\" =\u003e (pcr_input_ops.count / operations.running.count.to_f).round(2) }\n    output_volumes = {\"Purified DNA\" =\u003e 17}\n    assign_input_items [\"DpnI\"], input_volumes, current_taken_items\n    return {} if check_for_errors\n    \n    operations.each do |op|\n        op.input(\"Impure Reaction\").item.associate :volume, 50.0\n    end if debug\n    \n    operations.add_static_inputs \"DpnI\", \"DpnI\", \"Enzyme Stock\"\n    \n    operations.sort_by! {|op| op.input(\"Impure Reaction\").item.id}\n    \n    if pcr_input_ops.any?\n        robust_take_inputs [\"Impure Reaction\", \"DpnI\"], current_taken_items, interactive: true\n    \n        show do\n            title \"Add DpnI to PCR input items\"\n            note \"Add DpnI to PCR input items according to the following table:\"\n            warning \"Do NOT re-digest the PCR reaction product if it's already digested previously.\"\n            table pcr_input_ops.start_table\n            .input_item(\"Impure Reaction\")\n            .custom_column(heading: \"DpnI to add\") {|op| {content: \"1 µl of #{op.input(\"DpnI\").item}\", check: true} }\n            .end_table\n        end\n    \n        pcr_input_ops.running.each do |op|\n            op.input(\"Impure Reaction\").item.move(\"37C incubator\")\n            op.input(\"Impure Reaction\").item.save\n        end\n    \n        robust_release_inputs [\"Impure Reaction\", \"DpnI\"], current_taken_items, interactive: true\n    \n        show do\n            check \"Wait 30 minutes before continuing\"\n            timer initial: { hours: 0, minutes: 30, seconds: 0}\n        end\n    end\n    \n    robust_take_inputs [\"Impure Reaction\"], current_taken_items, interactive: true\n    \n    robust_make [\"Purified DNA\"], current_taken_items\n    \n    table_matrix = Array.new(operations.count + 1) {Array.new(2)}\n    table_matrix[0] = [\"New 1.5 ml tube number\", \"Reaction item to add\", \"PX buffer to add\"]\n    operations.each_with_index do |op, op_index|\n        table_matrix[op_index+1] = [(op_index+1).to_s, {content:\"#{op.input(\"Impure Reaction\").item.get(:volume)} µl of #{op.input(\"Impure Reaction\").item.id}\", check: true}, {content:\"#{op.input(\"Impure Reaction\").item.get(:volume) * 5} µl of PB buffer\", check: true}]\n    end\n    \n    show do\n      title \"Transfer to 1.5 mL tubes and add PB buffer\"\n      note \"This protocol uses the QIAquick PCR Purification Kit.\"\n      check \"Get out #{operations.count} new 1.5 ml tubes and label them from 1 to #{operations.count}\"\n      check \"Add inputs and PB buffer to new 1.5 ml tubes according to the following table:\"\n      table table_matrix\n    end\n        \n    operations.each do |op|\n      op.input(\"Impure Reaction\").item.mark_as_deleted\n      op.input(\"Impure Reaction\").item.save\n    end\n    \n    robust_release_inputs [\"Impure Reaction\"], current_taken_items, interactive: false\n    \n    show do\n      title \"Transfer to spin columns\"\n      check \"Get out #{operations.count} spin columns and round bottom collection tubes. Place spin columns into collection tubes.\"\n      check \"Label both the spin columns with the numbers 1-#{operations.count}\"\n      check \"Transfer contents of 1.5 ml tubes (500 µl) to spin columns with corresponding numbers.\"\n      check \"Discard the empty 1.5 ml tubes.\"\n    end\n    \n    show do\n      title \"Centrifuge\"\n      centrifuge operations.running.count, 13000, 1\n      check \"Empty collection tubes by pouring waste liquid into miniprep waste container.\"\n    end\n    \n    show do\n      title \"Add PE Buffer\"\n      check \"Add 750 µl PE buffer to columns.\"\n      check \"Spin at 13000rpm for 60 seconds.\"\n      check \"Discard flow through into miniprep waste container.\"\n      check \"Spin at 13000rpm for 3 minutes to remove residual WS buffer from columns.\"\n    end\n    \n    table_matrix = Array.new(operations.count + 1) {Array.new(2) {\"Error\"}}\n    table_matrix[0] = [\"Item ID to write on 1.5 mL tube\", \"Spin column number\"]\n    operations.each_with_index do |op, op_index|\n        table_matrix[op_index + 1][0] = op.output(\"Purified DNA\").item.id\n        table_matrix[op_index + 1][1] = (op_index + 1).to_s\n    end\n    \n    show do\n        title \"Transfer columns to fresh tubes\"\n        check \"Get out #{operations.count} new 1.5 mL tubes.\"\n        check \"Label new tubes with the following item IDs, and transfer columns to these new tubes according to the following table:\"\n        table table_matrix\n        check \"Discard round bottom collection tubes.\"\n    end\n    \n    show do\n        title \"Elute with water\"\n        check \"Carefully pipette 20 µl of water onto the center of each column. Do not touch the column membrane with the pipette tip.\"\n        check \"Let the columns sit for 2 minutes on the bench.\"\n        centrifuge operations.running.count, 13000, 1\n        check \"KEEP 1.5 ml tubes containing flowthrough!\"\n    end\n    \n    store_outputs_with_volumes output_volumes, current_taken_items, interactive: true\n    check_for_errors\n    \n    log_info \"op id\", operations[0].operation_type.id\n    \n    return {}\n    \n  end\n  \nend\n","precondition":"def precondition(op)\n  true\nend","cost_model":"# All related numbers come from 'Damp Lab Services_Dec2019'\n# materials are calculated on 'Damp Lab Services_Dec2019'\n# l stands for labor\n\ndef cost(op)\n    l = 13.41 * Parameter.get_float('labor rate (min)')\n    {labor: 0, materials: 2.66+l }\nend","documentation":"This is run after \u003cb\u003ePCR or Restriction Digest\u003c/b\u003e and creates a linear dsDNA or digested DNA stock. The technician will purify all large pieces of DNA from a reaction using a spin column. This is a faster/cheaper alternative to Run On Agarose Gel -\u003e Extract Fragment -\u003e Purify Gel Slice.\u003cbr\u003e\u003cbr\u003e\n\n------\u003cb\u003eOutput Volume(s)\u003c/b\u003e------\u003cbr\u003e\nFragment -\u003e 17 µl","test":"","timing":null}}]}