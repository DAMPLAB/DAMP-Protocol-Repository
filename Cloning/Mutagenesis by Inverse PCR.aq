{"config":{"title":"Mutagenesis by Inverse PCR","description":"No description given","copyright":"No copyright declared","version":"no version info","authors":[],"maintainer":{"name":"No maintainer","email":"noone@nowehere"},"acknowledgements":[],"github":{"repo":"none","user":"none","access_token":"none"},"keywords":[],"aquadoc_version":"1.0.0"},"components":[{"sample_types":[{"id":1,"name":"Primer","description":"The primer stock solutions are diluted to 25 uM. Primer melting temperatures should be calculated using the **NEB Tm calculator http://tmcalculator.neb.com/#!/main configured for Phusion High-Fidelity DNA Polymerase (HF Buffer)** for standard PCR reaction","created_at":"2013-10-08T10:18:01.000-07:00","updated_at":"2018-02-25T04:40:37.000-08:00","field_types":[{"id":1,"parent_id":1,"name":"Overhang Sequence","ftype":"string","choices":null,"array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":2,"parent_id":1,"name":"Anneal Sequence","ftype":"string","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":3,"parent_id":1,"name":"T Anneal","ftype":"number","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":2207,"parent_id":1,"name":"URL","ftype":"url","choices":null,"array":false,"required":false,"created_at":"2017-07-24T14:21:24.000-07:00","updated_at":"2017-07-24T14:21:24.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]}]},{"id":2,"name":"Plasmid","description":"A circular piece of double stranded DNA","created_at":"2013-10-15T09:59:25.000-07:00","updated_at":"2015-11-29T07:55:20.000-08:00","field_types":[{"id":4,"parent_id":2,"name":"Sequence","ftype":"url","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:30:08.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":5,"parent_id":2,"name":"Sequence Verification","ftype":"url","choices":null,"array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:16:33.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":6,"parent_id":2,"name":"Bacterial Marker 1","ftype":"string","choices":"Amp, Cam, Carb, Kan, Spec, Strep, Other, N/A","array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2020-03-05T14:47:09.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":7,"parent_id":2,"name":"Yeast Marker","ftype":"string","choices":"HIS, TRP, URA, LEU, NatMX, KanMX, HygMX, BleoMX ,5FOA, N/A, Other","array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2017-07-24T14:23:40.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":8,"parent_id":2,"name":"Length","ftype":"number","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:16:33.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":42,"parent_id":2,"name":"Sequencing Primers","ftype":"sample","choices":null,"array":true,"required":false,"created_at":"2016-05-09T21:30:48.000-07:00","updated_at":"2016-05-09T21:30:48.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":26,"field_type_id":42,"sample_type_id":1,"object_type_id":null,"created_at":"2016-05-09T21:30:48.000-07:00","updated_at":"2016-05-09T21:30:48.000-07:00","sample_type":{"id":1,"name":"Primer","description":"The primer stock solutions are diluted to 25 uM. Primer melting temperatures should be calculated using the **NEB Tm calculator http://tmcalculator.neb.com/#!/main configured for Phusion High-Fidelity DNA Polymerase (HF Buffer)** for standard PCR reaction","created_at":"2013-10-08T10:18:01.000-07:00","updated_at":"2018-02-25T04:40:37.000-08:00"}}],"sample_types":["Primer"],"object_types":[null]},{"id":2246,"parent_id":2,"name":"Alias","ftype":"string","choices":"Promoter, CDS, Terminator, Backbone, RBS, Marker, Insulator, Reporter Plasmid, Gate, Circuit w/ Reporter Plasmid, Other, N/A","array":false,"required":false,"created_at":"2017-08-28T09:14:15.000-07:00","updated_at":"2020-03-05T14:51:23.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":10458,"parent_id":2,"name":"Bacterial Marker 2","ftype":"string","choices":"Amp, Cam, Carb, Kan, Spec, Strep, Other, N/A","array":false,"required":true,"created_at":"2020-03-05T14:47:09.000-08:00","updated_at":"2020-03-05T14:47:57.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]}]}],"object_types":[{"id":322,"name":"Primer Stock","description":"Rehydrated primer in tube from IDT - 100uM","min":0,"max":1,"handler":"sample_container","safety":"No safety information","cleanup":"No cleanup information","data":"{ \"min_conc\": 0.000010, \"rec_conc\": 0.000025, \"max_vol\": 1500, \"conc_callback\": \"manually_enter_uM_conc\", \"short_description\":\"1.5 mL tube\", \"opentrons_labware\": \"24-well-1.5ml-rack\"}","vendor":"No vendor information","created_at":"2014-01-22T16:56:36.000-08:00","updated_at":"2018-09-04T19:56:25.000-07:00","unit":"Base","cost":0.26,"release_method":"return","release_description":"","sample_type_id":1,"image":"","prefix":"M20O","rows":null,"columns":null,"sample_type_name":"Primer"},{"id":571,"name":"Plasmid Stock","description":"A plasmid stock that has yet to be sequenced verified","min":0,"max":1,"handler":"sample_container","safety":"No safety information","cleanup":"No cleanup information","data":"{ \"min_conc\": 0.000000005, \"rec_conc\": 0.000000025, \"max_vol\": 1500, \"conc_callback\": \"nanodrop_dsdna\", \"short_description\":\"1.5 mL tube\", \"opentrons_labware\": \"24-well-1.5ml-rack\"}","vendor":"No vendor information","created_at":"2017-03-31T15:34:41.000-07:00","updated_at":"2018-09-19T18:46:08.000-07:00","unit":"Plasmid","cost":0.01,"release_method":"return","release_description":"","sample_type_id":2,"image":"","prefix":"M20P","rows":null,"columns":null,"sample_type_name":"Plasmid"},{"id":644,"name":"Mutagenesis Reaction Result","description":"The result of a mutagenesis reaction. Suitable for transformation.","min":0,"max":1,"handler":"sample_container","safety":"No safety information","cleanup":"No cleanup information","data":"{ \"max_vol\": 100, \"short_description\":\"PCR tube\"}","vendor":"No vendor information","created_at":"2018-02-20T12:37:03.000-08:00","updated_at":"2018-02-20T12:37:03.000-08:00","unit":"tube","cost":0.01,"release_method":"return","release_description":"","sample_type_id":2,"image":"","prefix":"M20SRX","rows":null,"columns":null,"sample_type_name":"Plasmid"}],"operation_type":{"name":"Mutagenesis by Inverse PCR","category":"Cloning","deployed":false,"on_the_fly":false,"field_types":[{"ftype":"sample","role":"input","name":"Forward Primer","sample_types":["Primer"],"object_types":["Primer Stock"],"part":false,"array":false,"routing":"FP","preferred_operation_type_id":481,"preferred_field_type_id":5600,"choices":null},{"ftype":"sample","role":"input","name":"Reverse Primer","sample_types":["Primer"],"object_types":["Primer Stock"],"part":false,"array":false,"routing":"RP","preferred_operation_type_id":481,"preferred_field_type_id":5600,"choices":null},{"ftype":"sample","role":"input","name":"Template","sample_types":["Plasmid"],"object_types":["Plasmid Stock"],"part":false,"array":false,"routing":"P","preferred_operation_type_id":483,"preferred_field_type_id":5604,"choices":null},{"ftype":"sample","role":"output","name":"Mutagenesis Reaction Product","sample_types":["Plasmid"],"object_types":["Mutagenesis Reaction Result"],"part":false,"array":false,"routing":"PR","preferred_operation_type_id":null,"preferred_field_type_id":null,"choices":null}],"protocol":"needs \"Standard Libs/Debug Lib\"\r\nneeds \"Cloning Libs/Cloning\"\r\nclass Protocol\r\n\tinclude Debug\r\n\tinclude Cloning\r\n\t# I/O\r\n\tFWD = \"Forward Primer\"\r\n\tREV = \"Reverse Primer\"\r\n\tTEMPLATE = \"Template\"\r\n\tPRODUCT = \"Mutagenesis Reaction Product\"\r\n    \r\n    REACTION_VOLUME = 20.0\r\n\tTOTAL_THERMOCYCLERS = 1\r\n\tANNEAL_TEMP_TOLERANCE = 1.0 # Reactions where the difference in annealing temp is less than this value may be run together\r\n\r\n\tBLOCKS_PER_THERMOCYCLER = 3\r\n\tZONES_PER_BLOCK = 2\r\n\tREACTIONS_PER_ZONE = 16\r\n\t\r\n\t##Divide template stock by 10. Add 1.5 ul of this per 20 ul reaction.\r\n\t##Divide primer stocks by 3.75. Add 1.5 ul of this per 20 ul reaction.\r\n    ##Primer and template can be diluted together\r\n\tdef main\r\n        current_taken_items = []\r\n        # Remember to add volume information to input and output object types (and concentration data where applicable).\r\n        # Different input volumes for small batches to avoid pipetting small amounts\r\n        input_volumes = {FWD =\u003e (2.67*REACTION_VOLUME / 20.0).round(2), REV =\u003e (2.67*REACTION_VOLUME / 20.0).round(2), TEMPLATE =\u003e (REACTION_VOLUME / 20.0).round(2)}\r\n        output_volumes = {PRODUCT =\u003e (REACTION_VOLUME*0.95 - 2.0).round}\r\n        \r\n        check_user_inputs [FWD, REV, TEMPLATE], input_volumes, current_taken_items\r\n        return {} if check_for_errors\r\n        \r\n        operations.each do |op|\r\n\t\t\tt1 = op.input(FWD).sample.properties[\"T Anneal\"]\r\n\t\t\tt2 = op.input(REV).sample.properties[\"T Anneal\"]\r\n\t\t\top.temporary[:tanneal] = [t1, t2].min\r\n\t\tend\r\n\t\toperations.sort_by! {|op| op.temporary[:tanneal]}\r\n\r\n\t\t##  Ops can occupy the same zone if they are within 1C of lowest annealing op in the zone AND the \r\n\t\t##  zone is occupied by \u003c 16 ops already. Also, two zones in the same block cannot be more than \r\n\t\t##  5C apart (limitation of veriflex function on PCR machine).\r\n\r\n\t\top_array = Array.new(TOTAL_THERMOCYCLERS*BLOCKS_PER_THERMOCYCLER) {Array.new(ZONES_PER_BLOCK) {Array.new}} \r\n\t\tblock = 0\r\n\t\tzone_in_block = 0\r\n\t\treaction_in_zone = 0\r\n\t\tzone_tanneal = 0\r\n\t\toperations.running.each_with_index do |op, i|\r\n\t\t    if i == 0\r\n\t\t        zone_tanneal = op.temporary[:tanneal]\r\n\t\t    elsif (reaction_in_zone \u003e= REACTIONS_PER_ZONE) || (op.temporary[:tanneal] - zone_tanneal \u003e ANNEAL_TEMP_TOLERANCE) #new zone\r\n\t\t        zone_in_block += 1\r\n\t\t        reaction_in_zone = 0\r\n\t\t        if (zone_in_block \u003e= ZONES_PER_BLOCK) || (op.temporary[:tanneal] - zone_tanneal \u003e 5.0)#new block\r\n\t\t            block += 1\r\n\t\t            zone_in_block = 0\r\n\t\t        end\r\n\t\t        zone_tanneal = op.temporary[:tanneal]\r\n\t\t    end\r\n\t\t    if not op_array[block].blank? #prevents scheduling of more blocks than total capacity of the lab\r\n\t\t        op_array[block][zone_in_block] \u003c\u003c op\r\n\t\t    else\r\n\t\t        show do\r\n\t\t            title \"Number of reactions scheduled exceeds total thermocycler capacity of lab.\"\r\n\t\t            note \"Number of reactions scheduled exceeds total thermocycler capacity of lab.\"\r\n\t\t            warning \"Aborting protocol. Please check with the lab manager for further instructions.\"\r\n\t\t        end\r\n\t\t        return {}\r\n\t\t    end\r\n\t\t    reaction_in_zone += 1\r\n\t\tend\r\n\t\tblocks_required = block + 1\r\n\t\top_array.map! {|block| block.reject {|zone| zone.empty?}}\r\n\t\top_array.reject! {|block| block.empty?}\r\n\t\top_array.compact!\r\n    \r\n\t\tdata = show do\r\n\t\t    title \"Check if enough blocks are available\"\r\n\t\t    warning \"Warning: Selecting \\\"No\\\" will abort the protocol.\"\r\n\t\t    select [ \"Yes\", \"No\"], var: \"choice\", label: \"Are there at least #{blocks_required} blocks currently available on the pcr machine?\", default: 0\r\n\t\tend\r\n\r\n\t\tif data[:choice] == \"No\"\r\n\t\t    show do\r\n                title \"Number of reactions scheduled exceeds available capacity.\"\r\n\t            note \"Number of reactions scheduled exceeds available capacity.\"\r\n\t\t        warning \"Aborting protocol. Please check with the lab manager for further instructions.\"\r\n            end\r\n\t\t    return {}\r\n\t\tend\r\n\r\n\t\tshow do\r\n\t\t    title \"Keep all items on ice\"\r\n\t\t    warning \"Note: All items used in this protocol should be kept on ice (or thawed at room temperature then immediately transfered to ice).\"\r\n\t\tend\r\n        \r\n        #dilute templates\r\n        robust_take_inputs [TEMPLATE, FWD, REV], current_taken_items, interactive: true\r\n        operations.running.each_with_index do |op, i|\r\n            op.temporary[:aliquot_tube] = i+1\r\n        end\r\n        \r\n        show do\r\n            title \"Create temporary diluted template/primer aliquots\"\r\n            note \"Get out #{operations.running.count} new 1.5 ml tubes and number them 1-#{operations.running.count}. Add template, primer, and water according to the following table:\"\r\n            table operations.start_table\r\n\t\t    .custom_column(heading: \"New tube number\") { |op| \"#{op.temporary[:aliquot_tube].to_s}\"}\r\n\t\t    .custom_column(heading: \"DNA template to add\", checkable: true) { |op| \"#{input_volumes[TEMPLATE]} µl of #{op.input(TEMPLATE).item.id}\"}\r\n\t\t    .custom_column(heading: \"FWD primer to add\", checkable: true) { |op| \"#{input_volumes[FWD]} µl of #{op.input(FWD).item.id}\"}\r\n\t\t    .custom_column(heading: \"REV primer to add\", checkable: true) { |op| \"#{input_volumes[REV]} µl of #{op.input(REV).item.id}\"}\r\n\t\t    .custom_column(heading: \"Water to add\", checkable: true) { |op| \"#{10-input_volumes[TEMPLATE]-input_volumes[FWD]-input_volumes[REV]} µl of water\"}\r\n\t\t    .end_table\r\n        end\r\n        robust_release_inputs [TEMPLATE, FWD, REV], current_taken_items, interactive: true\r\n        \r\n        show do\r\n            title \"Make master mix\"\r\n            check \"Get out Q5 Site-Directed Mutagenesis Kit from the -20C freezer.\"\r\n            warning \"Keep kit contents on ice.\"\r\n            note \"Get out a 1.5 ml tube and label it \\\"MM\\\". Add reagents according to the following table:\"\r\n            table_matrix = Array.new(2) {Array.new}\r\n            table_matrix[0] = [\"Water to add\", \"Q5 Hot Start High-Fidelity 2X Master Mix to add\"]\r\n            table_matrix[1] \u003c\u003c {content: \"#{(operations.running.count*9.35).round(2)} µl\", check: true}\r\n            table_matrix[1] \u003c\u003c {content: \"#{(operations.running.count*11).round(2)} µl\", check: true}\r\n            table table_matrix\r\n            check \"Return Q5 Site-Directed Mutagenesis Kit to the freezer.\"\r\n        end\r\n        \r\n        robust_make [PRODUCT], current_taken_items\r\n        \r\n        show do\r\n\t\t    title \"Add reagents to reaction tubes\"\r\n\t\t    note \"Get out #{operations.running.count} new PCR tubes, label and add master mix to PCR tubes according to the following table.\"\r\n\t\t    table operations.start_table\r\n\t\t    .output_item(PRODUCT)\r\n\t\t    .custom_column(heading: \"Master mix (MM) to add\", checkable: true) { |op| \"18.5 µl of MM\"}\r\n\t\t    .custom_column(heading: \"Template/primer tube to add\", checkable: true) { |op| \"1.5 µl of of tube ##{op.temporary[:aliquot_tube]}\"}\r\n\t\t    .end_table\r\n\t\t    check \"Discard the diluted template tubes numbered 1-#{operations.running.count}\"\r\n\t\t    check \"Discard empty \\\"MM\\\" tube.\"\r\n\t\tend\r\n\t\t\r\n\t\tall_block_names = []\r\n\t\tTOTAL_THERMOCYCLERS.times do |tc_number|\r\n\t\t    BLOCKS_PER_THERMOCYCLER.times do |block_number|\r\n\t\t        all_block_names \u003c\u003c \"Thermocycler \" + (tc_number+1).to_s + \", Block \" + (block_number+1).to_s\r\n\t\t    end\r\n\t\tend\r\n\r\n\t\tchosen_block_names = []\r\n\t\tif debug\r\n\t\t    chosen_block_names = all_block_names[0..(blocks_required-1)]\r\n\t\telse\r\n\t\t    first_try = true\r\n\t\t    while chosen_block_names.length != blocks_required\r\n\t\t        data = show {\r\n\t\t            title \"Select blocks of thermocycler\"\r\n\t\t            warning \"Wrong number of blocks selected.\" if not first_try\r\n\t\t            note \"Please select the #{blocks_required} thermocycler block(s) you would like to use.\"\r\n\t\t            note \"(use ctrl click to select multiple)\"\r\n\t\t            select all_block_names, var: \"choice\", label: \"Block(s) #\", multiple: true, default: (0..(blocks_required-1)).to_a\r\n\t\t            }\r\n\t\t        chosen_block_names = Array(data[:choice])\r\n\t\t        first_try = false\r\n\t\t    end\r\n\t\tend\r\n\r\n\t\top_array.each do |zones_in_block|\r\n\t\t    block_name = chosen_block_names[0]\r\n\t\t    lengths = zones_in_block.flatten.map {|op| op.output(PRODUCT).sample.properties[\"Length\"]}\r\n\t\t    extension_time_seconds = [(lengths.max)/1000.0*30, 30.0].max\r\n\t\t    extension_time_seconds = extension_time_seconds.ceil\r\n\t\t    extension_time_minutes = 0\r\n\t\t    while extension_time_seconds \u003e= 60\r\n\t\t        extension_time_seconds -= 60\r\n\t\t        extension_time_minutes += 1\r\n\t\t    end\r\n\t\t    table_matrix = Array.new {Array.new}\r\n\t\t    table_matrix[0] = [\"Zone in #{block_name}\", \"Mutagenesis Result Item IDs\" ]\r\n\t\t    table_matrix[1] = [\"Zone 1\", []]\r\n\t\t    table_matrix[2] = [\"Zone 2\", []]\r\n\t\t    zone_1_tanneal = 0\r\n\t\t    zone_2_tanneal = 0\r\n\t\t    zones_in_block.each_with_index do |ops_in_zone, zone_index|\r\n\t\t        if zone_index == 0\r\n\t\t            zone_1_tanneal = ops_in_zone[0].temporary[:tanneal]\r\n\t\t            zone_2_tanneal = ops_in_zone[0].temporary[:tanneal]\r\n\t\t        elsif ops_in_zone.any? #if there is nothing in zone 2, leave zone 2 tanneal same as zone 1 tanneal\r\n\t\t            zone_2_tanneal = ops_in_zone[0].temporary[:tanneal]\r\n\t\t        end\r\n\t\t        ops_in_zone.each do |op|\r\n\t\t            table_matrix[zone_index+1][1] \u003c\u003c op.output(PRODUCT).item.id.to_s #loads IDs into a matrix to be displayed to user\r\n\t\t            #Does not actually \"move\" the items because they are going to be retreived by the tech before the end of the protocol.\r\n\t\t        end\r\n\t\t    end\r\n\t\t    table_matrix[1][1] = table_matrix[1][1].join(\", \")\r\n\t\t    table_matrix[2][1] = table_matrix[2][1].join(\", \")\r\n\t\t    show do\r\n\t\t        title \"Place mutagenesis reactions into #{block_name}\"\r\n\t\t        note \"Place mutagenesis reactions into #{block_name} according to the following table:\"\r\n\t\t        table table_matrix\r\n\t\t    end\r\n\t\t    \r\n\t\t    show do\r\n\t\t        title \"Set up thermocycler settings for #{block_name}\"\r\n\t\t        bullet \"Select the circular \\\"Set Up Run\\\" button corresponding to #{block_name}\"\r\n                bullet \"Select \\\"Open Method\\\", then \\\"Mutagenesis Q5 Kit\\\" (located in public folder)\"\r\n\t\t        bullet \"Select the THIRD STEP in STAGE 2, and set its time to 0:0#{extension_time_minutes}:#{extension_time_seconds}\"\r\n\t\t        bullet \"Select \\\"Edit\\\", \\\"Manage Steps\\\", \\\"Advanced Options\\\", \\\"VeriFlex\\\"\"\r\n\t\t        bullet \"Select the small edit icon (pencil) corresponding to the SECOND STEP in STAGE 2\"\r\n\t\t        bullet \"Set Zone 1 temperature to #{zone_1_tanneal} and Zone 2 temperature to #{zone_2_tanneal}. Select \\\"Done\\\", \\\"Done\\\", \\\"Verify Block\\\", and \\\"Start Run\\\"\"\r\n\t\t        check \"Set a timer to remind yourself when the thermocycler is done.\"\r\n                warning \"This is not the last step! Mutagenesis requires additional steps after the thermocycler is finished.\"\r\n\t\t    end\r\n\t\t    chosen_block_names.shift\r\n\t\tend\r\n\t\t\r\n\t\tshow do\r\n\t\t    title \"Transfer 1 µl to 1.5 ml tubes\"\r\n\t\t    check \"Take reactions out of the thermocycler and place on ice.\"\r\n\t\t    check \"Transfer 1 µl of liquid from the small PCR tubes to new 1.5 ml tubes and label with the same IDs:\"\r\n\t\t    table operations.start_table\r\n\t\t        .custom_column(heading: \"New 1.5 ml tube ID\") { |op| op.output(PRODUCT).item.id}\r\n\t\t        .custom_column(heading: \"Mutagenesis reaction (small PCR tube) to add\") {|op| {content: \"1 µl of #{op.output(PRODUCT).item.id}\", check: true}}\r\n\t\t        .end_table\r\n            check \"Discard small PCR tubes.\"\r\n\t\tend\r\n\t\t\r\n\t\tshow do\r\n            title \"Make master mix 2\"\r\n            check \"Get out Q5 Site-Directed Mutagenesis Kit from the -20C freezer.\"\r\n            warning \"Keep kit contents on ice.\"\r\n            note \"Get out a 1.5 ml tube and label it \\\"MM2\\\". Add reagents according to the following table:\"\r\n            table_matrix = Array.new(2) {Array.new}\r\n            table_matrix[0] = [\"Water to add\", \"2X KLD Reaction Buffer to add\", \"10X KLD Enzyme Mix to add\"]\r\n            table_matrix[1] \u003c\u003c {content: \"#{(operations.running.count*3.33).round(2)} µl\", check: true}\r\n            table_matrix[1] \u003c\u003c {content: \"#{(operations.running.count*5.5).round(2)} µl\", check: true}\r\n            table_matrix[1] \u003c\u003c {content: \"#{(operations.running.count*1.1).round(2)} µl\", check: true}\r\n            table table_matrix\r\n            check \"Return Q5 Site-Directed Mutagenesis Kit to the freezer.\"\r\n        end\r\n        \r\n        show do\r\n\t\t    title \"Add reagents to reaction tubes\"\r\n\t\t    note \"Add master mix 2 to tubes according to the following table:\"\r\n\t\t    table operations.start_table\r\n\t\t    .output_item(PRODUCT)\r\n\t\t    .custom_column(heading: \"Master mix (MM2) to add\", checkable: true) { |op| \"9 µl of MM2\"}\r\n\t\t    .end_table\r\n\t\t    check \"Discard empty \\\"MM2\\\" tube.\"\r\n\t\tend\r\n\t\t\r\n\t\tshow do\r\n\t\t    title \"Incubate reactions\"\r\n\t\t    check \"Incubate items #{operations.running.map{|op| op.output(PRODUCT).item}.to_sentence} for 30 minutes at 37C\"\r\n\t\t    timer initial: { hours: 0, minutes: 30, seconds: 0}\r\n\t\tend\r\n\t\t\r\n\t\tstore_outputs_with_volumes output_volumes, current_taken_items, interactive: true\r\n\t\treturn {}\r\n\tend\r\nend","precondition":"def precondition(op)\n  true\nend","cost_model":"# All related numbers come from 'Damp Lab Services_Dec2019'\n# materials are calculated on 'Damp Lab Services_Dec2019'\n# l stands for labor\n\ndef cost(op)\n    l = 58.74 * Parameter.get_float('labor rate (min)')\n    {labor: 0, materials: 19.5+l }\nend","documentation":"This is run using a plasmid stock item as input and is a precursor to \u003cb\u003eTransformation\u003c/b\u003e. The technician will perform a mutagenesis reaction using the specified template and mutagenesis primers. This protocol uses the Q5 Site Directed Mutagenesis kit from NEB (PCR followed by blunt end ligation). Primers should be designed \u003cb\u003eback to back\u003c/b\u003e.\u003cbr\u003e\u003cbr\u003e\n\n------\u003cb\u003eInput Volume(s)\u003c/b\u003e------\u003cbr\u003e\nTemplate -\u003e 1 µl\u003cbr\u003e\nForward Primer -\u003e 3 µl\u003cbr\u003e\nReverse Primer -\u003e 3 µl\u003cbr\u003e\u003cbr\u003e\n\n------\u003cb\u003eOutput Volume(s)\u003c/b\u003e------\u003cbr\u003e\nMutagenesis Reaction Product -\u003e 17 µl\u003cbr\u003e\u003cbr\u003e\n\n\u003cb\u003eNote:\u003c/b\u003e Use https://nebasechanger.neb.com/ to design primers and to calculate annealing temperatures.","test":"","timing":null}}]}