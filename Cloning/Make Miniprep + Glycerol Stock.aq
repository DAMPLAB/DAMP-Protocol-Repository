{"config":{"title":"Make Miniprep + Glycerol Stock","description":"No description given","copyright":"No copyright declared","version":"no version info","authors":[],"maintainer":{"name":"No maintainer","email":"noone@nowehere"},"acknowledgements":[],"github":{"repo":"none","user":"none","access_token":"none"},"keywords":[],"aquadoc_version":"1.0.0"},"components":[{"sample_types":[{"id":2,"name":"Plasmid","description":"A circular piece of double stranded DNA","created_at":"2013-10-15T09:59:25.000-07:00","updated_at":"2015-11-29T07:55:20.000-08:00","field_types":[{"id":4,"parent_id":2,"name":"Sequence","ftype":"url","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:30:08.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":5,"parent_id":2,"name":"Sequence Verification","ftype":"url","choices":null,"array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:16:33.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":6,"parent_id":2,"name":"Bacterial Marker 1","ftype":"string","choices":"Amp, Cam, Carb, Kan, Spec, Strep, Other, N/A","array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2020-03-05T14:47:09.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":7,"parent_id":2,"name":"Yeast Marker","ftype":"string","choices":"HIS, TRP, URA, LEU, NatMX, KanMX, HygMX, BleoMX ,5FOA, N/A, Other","array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2017-07-24T14:23:40.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":8,"parent_id":2,"name":"Length","ftype":"number","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:16:33.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":42,"parent_id":2,"name":"Sequencing Primers","ftype":"sample","choices":null,"array":true,"required":false,"created_at":"2016-05-09T21:30:48.000-07:00","updated_at":"2016-05-09T21:30:48.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":26,"field_type_id":42,"sample_type_id":1,"object_type_id":null,"created_at":"2016-05-09T21:30:48.000-07:00","updated_at":"2016-05-09T21:30:48.000-07:00","sample_type":{"id":1,"name":"Primer","description":"The primer stock solutions are diluted to 25 uM. Primer melting temperatures should be calculated using the **NEB Tm calculator http://tmcalculator.neb.com/#!/main configured for Phusion High-Fidelity DNA Polymerase (HF Buffer)** for standard PCR reaction","created_at":"2013-10-08T10:18:01.000-07:00","updated_at":"2018-02-25T04:40:37.000-08:00"}}],"sample_types":["Primer"],"object_types":[null]},{"id":2246,"parent_id":2,"name":"Alias","ftype":"string","choices":"Promoter, CDS, Terminator, Backbone, RBS, Marker, Insulator, Reporter Plasmid, Gate, Circuit w/ Reporter Plasmid, Other, N/A","array":false,"required":false,"created_at":"2017-08-28T09:14:15.000-07:00","updated_at":"2020-03-05T14:51:23.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":10458,"parent_id":2,"name":"Bacterial Marker 2","ftype":"string","choices":"Amp, Cam, Carb, Kan, Spec, Strep, Other, N/A","array":false,"required":true,"created_at":"2020-03-05T14:47:09.000-08:00","updated_at":"2020-03-05T14:47:57.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]}]},{"id":1,"name":"Primer","description":"The primer stock solutions are diluted to 25 uM. Primer melting temperatures should be calculated using the **NEB Tm calculator http://tmcalculator.neb.com/#!/main configured for Phusion High-Fidelity DNA Polymerase (HF Buffer)** for standard PCR reaction","created_at":"2013-10-08T10:18:01.000-07:00","updated_at":"2018-02-25T04:40:37.000-08:00","field_types":[{"id":1,"parent_id":1,"name":"Overhang Sequence","ftype":"string","choices":null,"array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":2,"parent_id":1,"name":"Anneal Sequence","ftype":"string","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":3,"parent_id":1,"name":"T Anneal","ftype":"number","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":2207,"parent_id":1,"name":"URL","ftype":"url","choices":null,"array":false,"required":false,"created_at":"2017-07-24T14:21:24.000-07:00","updated_at":"2017-07-24T14:21:24.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]}]}],"object_types":[{"id":366,"name":"Small LB Overnight Culture","description":"An overnight of E. coli transformed with a plasmid in LB + antibiotic","min":0,"max":1,"handler":"sample_container","safety":"No safety information","cleanup":"No cleanup information","data":"{\"max_vol\": 10000, \"short_description\":\"15 mL tube\"}","vendor":"No vendor information","created_at":"2014-02-25T17:07:26.000-08:00","updated_at":"2018-02-27T14:57:26.000-08:00","unit":"Plasmid","cost":0.01,"release_method":"dispose","release_description":"","sample_type_id":2,"image":"","prefix":"Shaker","rows":null,"columns":null,"sample_type_name":"Plasmid"},{"id":571,"name":"Plasmid Stock","description":"A plasmid stock that has yet to be sequenced verified","min":0,"max":1,"handler":"sample_container","safety":"No safety information","cleanup":"No cleanup information","data":"{ \"min_conc\": 0.000000005, \"rec_conc\": 0.000000025, \"max_vol\": 1500, \"conc_callback\": \"nanodrop_dsdna\", \"short_description\":\"1.5 mL tube\", \"opentrons_labware\": \"24-well-1.5ml-rack\"}","vendor":"No vendor information","created_at":"2017-03-31T15:34:41.000-07:00","updated_at":"2018-09-19T18:46:08.000-07:00","unit":"Plasmid","cost":0.01,"release_method":"return","release_description":"","sample_type_id":2,"image":"","prefix":"M20P","rows":null,"columns":null,"sample_type_name":"Plasmid"},{"id":209,"name":"Plasmid Glycerol Stock","description":"Glycerol Stock of E. coli (usually DH5alpha) containing plasmid DNA stock","min":0,"max":1,"handler":"sample_container","safety":"No safety information","cleanup":"No cleanup information","data":"No data","vendor":"No vendor information","created_at":"2013-10-15T10:04:16.000-07:00","updated_at":"2017-08-16T10:46:01.000-07:00","unit":"Plasmid","cost":5.0,"release_method":"return","release_description":"","sample_type_id":2,"image":"","prefix":"M80GS","rows":null,"columns":null,"sample_type_name":"Plasmid"}],"operation_type":{"name":"Make Miniprep + Glycerol Stock","category":"Cloning","deployed":false,"on_the_fly":false,"field_types":[{"ftype":"sample","role":"input","name":"Overnight","sample_types":["Plasmid"],"object_types":["Small LB Overnight Culture"],"part":false,"array":false,"routing":"P","preferred_operation_type_id":337,"preferred_field_type_id":1833,"choices":null},{"ftype":"sample","role":"output","name":"Plasmid","sample_types":["Plasmid"],"object_types":["Plasmid Stock"],"part":false,"array":false,"routing":"P","preferred_operation_type_id":null,"preferred_field_type_id":null,"choices":null},{"ftype":"sample","role":"output","name":"Glycerol Stock","sample_types":["Plasmid"],"object_types":["Plasmid Glycerol Stock"],"part":false,"array":false,"routing":"G","preferred_operation_type_id":null,"preferred_field_type_id":null,"choices":null}],"protocol":"needs \"Standard Libs/Debug Lib\"\nneeds \"Cloning Libs/Cloning\"\n\nclass Protocol\n  include Cloning\n  include Debug\n  \n  def main\n    current_taken_items = []\n    output_volumes = {\"Plasmid\" =\u003e 25}\n    operations.sort_by! {|op| op.input(\"Overnight\").item.id}\n\n    robust_take_inputs [\"Overnight\"], current_taken_items, interactive: true\n    \n    # Verify whether each overnight has growth\n    verify_growth = show do\n        title \"Check if overnights have growth\"\n        note \"Choose No for the overnight that does not have growth and throw them away or put in the clean station.\"\n        operations.each do |op|\n            item = op.input(\"Overnight\").item\n            select [\"Yes\", \"No\"], var: \"#{item.id}\", label: \"Does tube #{item.id} have growth?\"\n            item.mark_as_deleted\n        end\n    end\n    \n    # if no growth, error op  \n    operations.each do |op|\n        item = op.input(\"Overnight\").item\n        if verify_growth[\"#{item.id}\".to_sym] == \"No\"\n            op.error :no_growth, \"The overnight has no growth.\"\n        end\n    end\n    \n    return {} if check_for_errors\n    \n    robust_make [\"Glycerol Stock\"], current_taken_items\n    \n    show do \n        title \"Add glycerol to cryo tubes\"\n        check \"Insert the small green cap into the top of the cryo tubes.\"\n        check \"Write the following IDs on the top of the cryo tubes: #{operations.running.map{|op| op.output(\"Glycerol Stock\").item.id}.to_sentence}\"\n        check \"Turn on bunsen burner and work close to flame.\"\n        check \"Pipette 900 µL of 50% glycerol (on shelf at Cell Culture Station) into each tube.\"\n        warning \"Do not contaminate the 50% glycerol solution.\"\n    end\n    \n    show do \n        title \"Add cultures to cryo tubes\"\n        note \"Transfer from cultures to cryo tubes according to the following table:\"\n        table operations.start_table\n            .output_item(\"Glycerol Stock\")\n            .custom_column(heading: \"Culture item (input)\") {|op| {content: \"900 µl of #{op.input(\"Overnight\").item.to_s}\", check: true}}\n            .end_table\n    end\n    \n    show do \n        title \"Vortex and Store\"\n        check \"Close the flame\"\n        check \"Vortex the tubes for 2 seconds.\"\n        warning \"Lable the storage location on the side of the cryo tubes before return the glycerol stock to the -80 freezer.\"\n    end\n    \n    operations.running.each do |op|\n        op.output(\"Glycerol Stock\").item.associate(:from_culture, op.input(\"Overnight\").item.id.to_s).save\n    end\n    \n    robust_release operations.running.map{|op| op.output(\"Glycerol Stock\").item}, current_taken_items, interactive: true\n    \n    robust_make [\"Plasmid\"], current_taken_items\n    \n    show do\n        title \"Warm up water\"\n        check \"Add #{(operations.running.count*output_volumes[\"Plasmid\"]*1.5).round(2)} µl of water to a tube. Label it \\\"Water\\\" and place on the 55C heat block.\"\n    end\n    \n    #transfer each overnight into 2 mL tube\n    show do \n        title \"Transfer Overnights into 2 mL Tubes and centrifuge\"\n        check \"Get out #{operations.running.count} new 2 mL tubes and label from 1 to #{operations.running.count}\"\n        note \"Transfer 1900 ul of liquid from each overnight culture to the corresponding 2 ml tubes according to the following chart:\"\n        index = 0\n        table operations.running.start_table\n            .input_item(\"Overnight\")\n            .custom_column(heading: \"Tube Number\") { {content: (index = index + 1), check: true} }\n        .end_table\n       centrifuge operations.running.count, 13000, 1\n       check \"Pour off the liquid into media waste, leaving only the solid pellet at the bottom of the tube.\"\n       check \"Repeat the previous steps until no liquid remains in the overnight culture tubes.\"\n       check \"Discard empty overnight culture tubes.\"\n    end\n    \n    robust_release_inputs [\"Overnight\"], current_taken_items, interactive: false\n    \n    if debug\n        operations.each do |op|\n            op.input(\"Overnight\").item.associate(:volume, Random.rand*10000)\n        end\n    end\n    \n    if operations.running.any? {|op| op.input(\"Overnight\").item.get(:volume).to_i \u003e 6000}\n        large_vol_protocol = true\n    else\n        large_vol_protocol = false\n    end\n    \n    # Resuspend in P1, P2, N3\n    show do\n        title \"Resuspend in P1, P2, N3\"\n        note \"This protocol uses the QIAprep Spin Miniprep Kit (blue box).\"\n        warning \"The steps on this slide are time-sensitive. If you have more than ~6 tubes, break them up into multiple batches.\"\n        check \"Grab a timer.\"\n        check \"Check if all the buffers are prepared accordingly with vendor's instructions (check mark on top).\"\n        check \"Grab P1 buffer from cold room.\"\n        check \"Add #{large_vol_protocol ? 500 : 250} µL of P1 into each tube and vortex on max setting for 20 seconds.\"\n        check \"Adjust the timer to 4 minutes.\"\n        check \"Add #{large_vol_protocol ? 500 : 250} µL of P2, start the timer, and gently invert 4-6 times to mix. Do not allow the lysis reaction to proceed for longer than 4 minutes!\"\n        check \"When the timer goes off, pipette #{large_vol_protocol ? 700 : 350} µL of N3 into each tube and gently invert 4-6 times to mix, or until the mixture is colorless.\"\n    end\n\n    # Centrifuge and add to miniprep columns        \n    show do\n        title \"Centrifuge and add to columns\"\n        centrifuge operations.running.count, 13000, 10\n        check \"Get out #{operations.running.count} new 1.5 mL tubes and label with the following IDs: #{operations.running.map{|op| op.output(\"Plasmid\").item.id}.to_sentence}. These will be used later on in the protocol.\"\n        check \"Return buffer P1 to the cold room.\"\n        check \"Get out #{operations.running.count} blue miniprep spin columns and label with 1 to #{operations.running.count}.\"\n    end\n    \n    show do\n        warning \"Do not discard the supernatant after spinning!\"\n        check \"Remove the tubes from centrifuge and carefully apply 800 uL of the supernatant into the columns with the same numbers.\"\n        warning \"Be careful not to pipette the white solids.\"\n        centrifuge operations.running.count, 13000, 1\n        check \"Discard the flow through into a miniprep waste container.\"\n        if large_vol_protocol\n            check \"Transfer another 800 ul of supernatant from 2 ml tubes to columns.\"\n            centrifuge operations.running.count, 13000, 1\n            check \"Discard the flow through into a miniprep waste container.\"\n        end\n        check \"Discard the used 2 mL tubes.\"\n    end\n        \n    # Spin and wash        \n    show do \n        title \"Continue with centrifugation steps\"\n        check \"Add 500 µl of PB buffer to each column.\"\n        centrifuge operations.running.count, 13000, 1\n        check \"Discard the flowthrough into a miniprep waste container.\"\n        check \"Add 750 µl of PE buffer to each column. Make sure the PE bottle that you are using has ethanol added (check mark on top)!\"\n        centrifuge operations.running.count, 13000, 1\n        check \"Remove the columns from the centrifuge and discard the flow through into a miniprep waste container.\"\n        centrifuge operations.running.count, 13000, 1\n    end\n    \n    show do \n        title \"Transfer columns to 1.5 ml tubes\"\n        check \"Remove the columns from the centrifuge\"\n        check \"Inidividually take each column out of the flowthrough collector and place in 1.5 mL tubes according to the following chart. Discard the flowthrough collector.\"\n        index = 0\n        table operations.running.start_table \n            .output_item(\"Plasmid\")\n            .custom_column(heading: \"Tube Number\") { {content: (index = index + 1), check: true} }\n            .end_table\n    end\n        \n    show do\n        title \"Elute with water\"\n        check \"Pipette 30 µl from the tube of warm water on the 55C heat block into the CENTER of each column without touching the membrane\"\n        check \"Discard empty tube of water\"\n        check \"Let the tubes sit on the bench for 1 minute\"\n        centrifuge operations.running.count, 13000, 1\n        check \"Discard the columns, but keep tubes and flowthrough!\"\n    end\n    \n    operations.running.each do |op|\n        op.output(\"Plasmid\").item.associate(:from_culture, op.input(\"Overnight\").item.id.to_s).save\n    end\n    \n    store_outputs_with_volumes output_volumes, current_taken_items, interactive: true\n    check_for_errors\n    return {}\n  end\nend\n","precondition":"def precondition(op)\n  true\nend","cost_model":"# All related numbers come from 'Damp Lab Services_Dec2019'\n# materials are calculated on 'Damp Lab Services_Dec2019'\n# l stands for labor\n# Average run time for this protocol is the sum of both average run time of miniprep and make glycerol stock\n\ndef cost(op)\n    l = 80.59 * Parameter.get_float('labor rate (min)')\n    {labor: 0, materials: 2.19+l }\nend","documentation":"This is run the day after \u003cb\u003eMake Overnight Inoculum\u003c/b\u003e and creates a plasmid stock item. The technician lysis the overnight culture and purifies plasmid DNA using a spin column.\u003cbr\u003e\u003cbr\u003e\n\n------\u003cb\u003eOutput Volume(s)\u003c/b\u003e------\u003cbr\u003e\nPlasmid -\u003e 25 l","test":"","timing":null}}]}