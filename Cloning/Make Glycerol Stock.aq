{"config":{"title":"Make Glycerol Stock","description":"No description given","copyright":"No copyright declared","version":"no version info","authors":[],"maintainer":{"name":"No maintainer","email":"noone@nowehere"},"acknowledgements":[],"github":{"repo":"none","user":"none","access_token":"none"},"keywords":[],"aquadoc_version":"1.0.0"},"components":[{"sample_types":[{"id":2,"name":"Plasmid","description":"A circular piece of double stranded DNA","created_at":"2013-10-15T09:59:25.000-07:00","updated_at":"2015-11-29T07:55:20.000-08:00","field_types":[{"id":4,"parent_id":2,"name":"Sequence","ftype":"url","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:30:08.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":5,"parent_id":2,"name":"Sequence Verification","ftype":"url","choices":null,"array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:16:33.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":6,"parent_id":2,"name":"Bacterial Marker 1","ftype":"string","choices":"Amp, Cam, Carb, Kan, Spec, Strep, Other, N/A","array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2020-03-05T14:47:09.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":7,"parent_id":2,"name":"Yeast Marker","ftype":"string","choices":"HIS, TRP, URA, LEU, NatMX, KanMX, HygMX, BleoMX ,5FOA, N/A, Other","array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2017-07-24T14:23:40.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":8,"parent_id":2,"name":"Length","ftype":"number","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:16:33.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":42,"parent_id":2,"name":"Sequencing Primers","ftype":"sample","choices":null,"array":true,"required":false,"created_at":"2016-05-09T21:30:48.000-07:00","updated_at":"2016-05-09T21:30:48.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":26,"field_type_id":42,"sample_type_id":1,"object_type_id":null,"created_at":"2016-05-09T21:30:48.000-07:00","updated_at":"2016-05-09T21:30:48.000-07:00","sample_type":{"id":1,"name":"Primer","description":"The primer stock solutions are diluted to 25 uM. Primer melting temperatures should be calculated using the **NEB Tm calculator http://tmcalculator.neb.com/#!/main configured for Phusion High-Fidelity DNA Polymerase (HF Buffer)** for standard PCR reaction","created_at":"2013-10-08T10:18:01.000-07:00","updated_at":"2018-02-25T04:40:37.000-08:00"}}],"sample_types":["Primer"],"object_types":[null]},{"id":2246,"parent_id":2,"name":"Alias","ftype":"string","choices":"Promoter, CDS, Terminator, Backbone, RBS, Marker, Insulator, Reporter Plasmid, Gate, Circuit w/ Reporter Plasmid, Other, N/A","array":false,"required":false,"created_at":"2017-08-28T09:14:15.000-07:00","updated_at":"2020-03-05T14:51:23.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":10458,"parent_id":2,"name":"Bacterial Marker 2","ftype":"string","choices":"Amp, Cam, Carb, Kan, Spec, Strep, Other, N/A","array":false,"required":true,"created_at":"2020-03-05T14:47:09.000-08:00","updated_at":"2020-03-05T14:47:57.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]}]},{"id":1,"name":"Primer","description":"The primer stock solutions are diluted to 25 uM. Primer melting temperatures should be calculated using the **NEB Tm calculator http://tmcalculator.neb.com/#!/main configured for Phusion High-Fidelity DNA Polymerase (HF Buffer)** for standard PCR reaction","created_at":"2013-10-08T10:18:01.000-07:00","updated_at":"2018-02-25T04:40:37.000-08:00","field_types":[{"id":1,"parent_id":1,"name":"Overhang Sequence","ftype":"string","choices":null,"array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":2,"parent_id":1,"name":"Anneal Sequence","ftype":"string","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":3,"parent_id":1,"name":"T Anneal","ftype":"number","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":2207,"parent_id":1,"name":"URL","ftype":"url","choices":null,"array":false,"required":false,"created_at":"2017-07-24T14:21:24.000-07:00","updated_at":"2017-07-24T14:21:24.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]}]}],"object_types":[{"id":366,"name":"Small LB Overnight Culture","description":"An overnight of E. coli transformed with a plasmid in LB + antibiotic","min":0,"max":1,"handler":"sample_container","safety":"No safety information","cleanup":"No cleanup information","data":"{\"max_vol\": 10000, \"short_description\":\"15 mL tube\"}","vendor":"No vendor information","created_at":"2014-02-25T17:07:26.000-08:00","updated_at":"2018-02-27T14:57:26.000-08:00","unit":"Plasmid","cost":0.01,"release_method":"dispose","release_description":"","sample_type_id":2,"image":"","prefix":"Shaker","rows":null,"columns":null,"sample_type_name":"Plasmid"},{"id":209,"name":"Plasmid Glycerol Stock","description":"Glycerol Stock of E. coli (usually DH5alpha) containing plasmid DNA stock","min":0,"max":1,"handler":"sample_container","safety":"No safety information","cleanup":"No cleanup information","data":"No data","vendor":"No vendor information","created_at":"2013-10-15T10:04:16.000-07:00","updated_at":"2017-08-16T10:46:01.000-07:00","unit":"Plasmid","cost":5.0,"release_method":"return","release_description":"","sample_type_id":2,"image":"","prefix":"M80GS","rows":null,"columns":null,"sample_type_name":"Plasmid"}],"operation_type":{"name":"Make Glycerol Stock","category":"Cloning","deployed":false,"on_the_fly":false,"field_types":[{"ftype":"sample","role":"input","name":"Overnight","sample_types":["Plasmid"],"object_types":["Small LB Overnight Culture"],"part":false,"array":false,"routing":"P","preferred_operation_type_id":337,"preferred_field_type_id":1833,"choices":null},{"ftype":"sample","role":"output","name":"Glycerol Stock","sample_types":["Plasmid"],"object_types":["Plasmid Glycerol Stock"],"part":false,"array":false,"routing":"P","preferred_operation_type_id":null,"preferred_field_type_id":null,"choices":null}],"protocol":"needs \"Standard Libs/Debug Lib\"\nneeds \"Cloning Libs/Cloning\"\n\nclass Protocol\n  include Cloning\n  include Debug\n  \n  def main\n    current_taken_items = []\n    operations.sort_by! {|op| op.input(\"Overnight\").item.id}\n\n    robust_take_inputs [\"Overnight\"], current_taken_items, interactive: true\n    \n    # Verify whether each overnight has growth\n    verify_growth = show do\n        title \"Check if overnights have growth\"\n        note \"Choose No for the overnight that does not have growth and throw them away or put in the clean station.\"\n        operations.each do |op|\n            item = op.input(\"Overnight\").item\n            select [\"Yes\", \"No\"], var: \"#{item.id}\", label: \"Does tube #{item.id} have growth?\"\n            item.mark_as_deleted\n        end\n    end\n    \n    # if no growth, error op  \n    operations.each do |op|\n        item = op.input(\"Overnight\").item\n        if verify_growth[\"#{item.id}\".to_sym] == \"No\"\n            op.error :no_growth, \"The overnight has no growth.\"\n        end\n    end\n    return {} if check_for_errors\n    \n    robust_make [\"Glycerol Stock\"], current_taken_items\n    \n    show do \n        title \"Add glycerol to cryo tubes\"\n        check \"Insert the small green cap into the top of the cryo tubes.\"\n        check \"Write the following IDs on the top and the side of cryo tubes: #{operations.running.map{|op| op.output(\"Glycerol Stock\").item.id}.to_sentence}\"\n        check \"Turn on bunsen burner and work close to flame.\"\n        check \"Pipette 900 µL of 50% glycerol (on shelf at Cell Culture Station) into each tube.\"\n        warning \"Do not contaminate the 50% glycerol solution.\"\n    end\n    \n    show do \n        title \"Add cultures to cryo tubes\"\n        note \"Transfer from cultures to cryo tubes according to the following table:\"\n        table operations.start_table\n            .output_item(\"Glycerol Stock\")\n            .custom_column(heading: \"Culture item (input)\") {|op| {content: \"900 µl of #{op.input(\"Overnight\").item.to_s}\", check: true}}\n            .end_table\n    end\n    \n    show do \n        title \"Vortex and Store\"\n        check \"Close the flame\"\n        check \"Vortex the tubes for 2 seconds.\"\n        warning \"Lable the storage location on the side of the cryo tubes before return the glycerol stock to the -80 freezer.\"\n    end\n    \n    operations.running.each do |op|\n        op.output(\"Glycerol Stock\").item.associate(:from_culture, op.input(\"Overnight\").item.id.to_s).save\n    end\n    \n    robust_release operations.running.map{|op| op.output(\"Glycerol Stock\").item}, current_taken_items, interactive: true\n    \n    show do\n        title \"Discard overnight cultures\"\n        check \"Discard overnight cultures: #{operations.running.map{|op| op.input(\"Overnight\").item}.to_sentence}\"\n    end\n    check_for_errors\n    return {}\n  end\nend","precondition":"def precondition(op)\n  true\nend","cost_model":"# All related numbers come from 'Damp Lab Services_Dec2019'\n# materials are calculated on 'Damp Lab Services_Dec2019'\n# l stands for labor\n\ndef cost(op)\n    l = 22 * Parameter.get_float('labor rate (min)')\n  { labor: 0, materials: 0.45+l }\nend","documentation":"This is run after \u003cb\u003eMake Overnight Inoculum\u003c/b\u003e and is a precursor to \u003cb\u003eMake Overnight Inoculum\u003c/b\u003e. Instructs the tech to create a glycerol stock of the plasmid in E. coli for long-term storage.","test":"","timing":null}}]}