{"config":{"title":"Gibson Assembly","description":"No description given","copyright":"No copyright declared","version":"no version info","authors":[],"maintainer":{"name":"No maintainer","email":"noone@nowehere"},"acknowledgements":[],"github":{"repo":"none","user":"none","access_token":"none"},"keywords":[],"aquadoc_version":"1.0.0"},"components":[{"sample_types":[{"id":4,"name":"Fragment","description":"A linear double stranded piece of DNA from PCR or Restriction Digest","created_at":"2013-10-16T14:33:41.000-07:00","updated_at":"2015-11-29T07:55:20.000-08:00","field_types":[{"id":11,"parent_id":4,"name":"Sequence","ftype":"url","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2018-02-16T23:49:44.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":12,"parent_id":4,"name":"Length","ftype":"number","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:17:39.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":13,"parent_id":4,"name":"Template","ftype":"sample","choices":null,"array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-12T19:07:59.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":2,"field_type_id":13,"sample_type_id":2,"object_type_id":null,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T20:40:31.000-07:00","sample_type":{"id":2,"name":"Plasmid","description":"A circular piece of double stranded DNA","created_at":"2013-10-15T09:59:25.000-07:00","updated_at":"2015-11-29T07:55:20.000-08:00"}},{"id":3,"field_type_id":13,"sample_type_id":3,"object_type_id":null,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T20:40:31.000-07:00","sample_type":{"id":3,"name":"E. coli strain","description":"A strain of E. coli distinguished from others by genomic (not plasmid) modifications.","created_at":"2013-10-15T10:16:52.000-07:00","updated_at":"2017-07-24T14:24:50.000-07:00"}},{"id":4,"field_type_id":13,"sample_type_id":4,"object_type_id":null,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T20:40:31.000-07:00","sample_type":{"id":4,"name":"Fragment","description":"A linear double stranded piece of DNA from PCR or Restriction Digest","created_at":"2013-10-16T14:33:41.000-07:00","updated_at":"2015-11-29T07:55:20.000-08:00"}}],"sample_types":["Plasmid","E. coli strain","Fragment"],"object_types":[null,null,null]},{"id":14,"parent_id":4,"name":"Forward Primer","ftype":"sample","choices":null,"array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-12T19:07:59.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":6,"field_type_id":14,"sample_type_id":1,"object_type_id":null,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T20:40:31.000-07:00","sample_type":{"id":1,"name":"Primer","description":"The primer stock solutions are diluted to 25 uM. Primer melting temperatures should be calculated using the **NEB Tm calculator http://tmcalculator.neb.com/#!/main configured for Phusion High-Fidelity DNA Polymerase (HF Buffer)** for standard PCR reaction","created_at":"2013-10-08T10:18:01.000-07:00","updated_at":"2018-02-25T04:40:37.000-08:00"}}],"sample_types":["Primer"],"object_types":[null]},{"id":15,"parent_id":4,"name":"Reverse Primer","ftype":"sample","choices":null,"array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-12T19:07:59.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":7,"field_type_id":15,"sample_type_id":1,"object_type_id":null,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T20:40:31.000-07:00","sample_type":{"id":1,"name":"Primer","description":"The primer stock solutions are diluted to 25 uM. Primer melting temperatures should be calculated using the **NEB Tm calculator http://tmcalculator.neb.com/#!/main configured for Phusion High-Fidelity DNA Polymerase (HF Buffer)** for standard PCR reaction","created_at":"2013-10-08T10:18:01.000-07:00","updated_at":"2018-02-25T04:40:37.000-08:00"}}],"sample_types":["Primer"],"object_types":[null]},{"id":6036,"parent_id":4,"name":"Raw Sequence","ftype":"string","choices":null,"array":false,"required":false,"created_at":"2018-02-16T23:48:20.000-08:00","updated_at":"2018-02-16T23:48:20.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]}]},{"id":2,"name":"Plasmid","description":"A circular piece of double stranded DNA","created_at":"2013-10-15T09:59:25.000-07:00","updated_at":"2015-11-29T07:55:20.000-08:00","field_types":[{"id":4,"parent_id":2,"name":"Sequence","ftype":"url","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:30:08.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":5,"parent_id":2,"name":"Sequence Verification","ftype":"url","choices":null,"array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:16:33.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":6,"parent_id":2,"name":"Bacterial Marker 1","ftype":"string","choices":"Amp, Cam, Carb, Kan, Spec, Strep, Other, N/A","array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2020-03-05T14:47:09.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":7,"parent_id":2,"name":"Yeast Marker","ftype":"string","choices":"HIS, TRP, URA, LEU, NatMX, KanMX, HygMX, BleoMX ,5FOA, N/A, Other","array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2017-07-24T14:23:40.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":8,"parent_id":2,"name":"Length","ftype":"number","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:16:33.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":42,"parent_id":2,"name":"Sequencing Primers","ftype":"sample","choices":null,"array":true,"required":false,"created_at":"2016-05-09T21:30:48.000-07:00","updated_at":"2016-05-09T21:30:48.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":26,"field_type_id":42,"sample_type_id":1,"object_type_id":null,"created_at":"2016-05-09T21:30:48.000-07:00","updated_at":"2016-05-09T21:30:48.000-07:00","sample_type":{"id":1,"name":"Primer","description":"The primer stock solutions are diluted to 25 uM. Primer melting temperatures should be calculated using the **NEB Tm calculator http://tmcalculator.neb.com/#!/main configured for Phusion High-Fidelity DNA Polymerase (HF Buffer)** for standard PCR reaction","created_at":"2013-10-08T10:18:01.000-07:00","updated_at":"2018-02-25T04:40:37.000-08:00"}}],"sample_types":["Primer"],"object_types":[null]},{"id":2246,"parent_id":2,"name":"Alias","ftype":"string","choices":"Promoter, CDS, Terminator, Backbone, RBS, Marker, Insulator, Reporter Plasmid, Gate, Circuit w/ Reporter Plasmid, Other, N/A","array":false,"required":false,"created_at":"2017-08-28T09:14:15.000-07:00","updated_at":"2020-03-05T14:51:23.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":10458,"parent_id":2,"name":"Bacterial Marker 2","ftype":"string","choices":"Amp, Cam, Carb, Kan, Spec, Strep, Other, N/A","array":false,"required":true,"created_at":"2020-03-05T14:47:09.000-08:00","updated_at":"2020-03-05T14:47:57.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]}]},{"id":1,"name":"Primer","description":"The primer stock solutions are diluted to 25 uM. Primer melting temperatures should be calculated using the **NEB Tm calculator http://tmcalculator.neb.com/#!/main configured for Phusion High-Fidelity DNA Polymerase (HF Buffer)** for standard PCR reaction","created_at":"2013-10-08T10:18:01.000-07:00","updated_at":"2018-02-25T04:40:37.000-08:00","field_types":[{"id":1,"parent_id":1,"name":"Overhang Sequence","ftype":"string","choices":null,"array":false,"required":false,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":2,"parent_id":1,"name":"Anneal Sequence","ftype":"string","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":3,"parent_id":1,"name":"T Anneal","ftype":"number","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T21:25:11.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":2207,"parent_id":1,"name":"URL","ftype":"url","choices":null,"array":false,"required":false,"created_at":"2017-07-24T14:21:24.000-07:00","updated_at":"2017-07-24T14:21:24.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]}]},{"id":3,"name":"E. coli strain","description":"A strain of E. coli distinguished from others by genomic (not plasmid) modifications.","created_at":"2013-10-15T10:16:52.000-07:00","updated_at":"2017-07-24T14:24:50.000-07:00","field_types":[{"id":10,"parent_id":3,"name":"Parent","ftype":"sample","choices":null,"array":false,"required":true,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2017-07-24T14:24:50.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":1,"field_type_id":10,"sample_type_id":3,"object_type_id":null,"created_at":"2016-05-09T20:40:31.000-07:00","updated_at":"2016-05-09T20:40:31.000-07:00","sample_type":{"id":3,"name":"E. coli strain","description":"A strain of E. coli distinguished from others by genomic (not plasmid) modifications.","created_at":"2013-10-15T10:16:52.000-07:00","updated_at":"2017-07-24T14:24:50.000-07:00"}}],"sample_types":["E. coli strain"],"object_types":[null]}]},{"id":40,"name":"Digested DNA","description":"Temporary samples containing a digested piece of double stranded DNA.","created_at":"2018-01-31T15:55:23.000-08:00","updated_at":"2018-01-31T15:55:23.000-08:00","field_types":[{"id":2710,"parent_id":40,"name":"Input DNA","ftype":"sample","choices":null,"array":false,"required":true,"created_at":"2018-01-31T15:55:23.000-08:00","updated_at":"2018-03-02T07:42:32.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":2527,"field_type_id":2710,"sample_type_id":2,"object_type_id":null,"created_at":"2018-01-31T15:55:23.000-08:00","updated_at":"2018-01-31T16:21:28.000-08:00","sample_type":{"id":2,"name":"Plasmid","description":"A circular piece of double stranded DNA","created_at":"2013-10-15T09:59:25.000-07:00","updated_at":"2015-11-29T07:55:20.000-08:00"}},{"id":2532,"field_type_id":2710,"sample_type_id":4,"object_type_id":null,"created_at":"2018-01-31T16:21:28.000-08:00","updated_at":"2018-01-31T16:21:28.000-08:00","sample_type":{"id":4,"name":"Fragment","description":"A linear double stranded piece of DNA from PCR or Restriction Digest","created_at":"2013-10-16T14:33:41.000-07:00","updated_at":"2015-11-29T07:55:20.000-08:00"}}],"sample_types":["Plasmid","Fragment"],"object_types":[null,null]},{"id":2713,"parent_id":40,"name":"Restriction Enzyme 1","ftype":"sample","choices":"EcoRI, SpeI, XbaI, SacI","array":false,"required":true,"created_at":"2018-01-31T15:55:23.000-08:00","updated_at":"2018-02-01T12:33:34.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":2533,"field_type_id":2713,"sample_type_id":6,"object_type_id":null,"created_at":"2018-01-31T16:21:28.000-08:00","updated_at":"2018-01-31T16:21:28.000-08:00","sample_type":{"id":6,"name":"Enzyme","description":"Enzymes in 1.5 mL tubes stored at -20C","created_at":"2013-12-31T10:23:07.000-08:00","updated_at":"2015-12-08T17:39:25.000-08:00"}}],"sample_types":["Enzyme"],"object_types":[null]},{"id":2714,"parent_id":40,"name":"Restriction Enzyme 2","ftype":"sample","choices":null,"array":false,"required":true,"created_at":"2018-01-31T15:55:23.000-08:00","updated_at":"2018-02-01T12:33:34.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[{"id":2529,"field_type_id":2714,"sample_type_id":6,"object_type_id":null,"created_at":"2018-01-31T15:55:23.000-08:00","updated_at":"2018-01-31T16:21:28.000-08:00","sample_type":{"id":6,"name":"Enzyme","description":"Enzymes in 1.5 mL tubes stored at -20C","created_at":"2013-12-31T10:23:07.000-08:00","updated_at":"2015-12-08T17:39:25.000-08:00"}}],"sample_types":["Enzyme"],"object_types":[null]},{"id":2759,"parent_id":40,"name":"Length","ftype":"number","choices":null,"array":false,"required":true,"created_at":"2018-02-01T12:33:34.000-08:00","updated_at":"2018-02-01T12:33:34.000-08:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]}]},{"id":6,"name":"Enzyme","description":"Enzymes in 1.5 mL tubes stored at -20C","created_at":"2013-12-31T10:23:07.000-08:00","updated_at":"2015-12-08T17:39:25.000-08:00","field_types":[{"id":2222,"parent_id":6,"name":"Vendor","ftype":"string","choices":null,"array":false,"required":false,"created_at":"2017-08-10T11:14:33.000-07:00","updated_at":"2017-08-10T11:14:33.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":2223,"parent_id":6,"name":"Vendor #","ftype":"string","choices":null,"array":false,"required":false,"created_at":"2017-08-10T11:14:33.000-07:00","updated_at":"2017-08-10T11:14:33.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]},{"id":2226,"parent_id":6,"name":"Lot #","ftype":"string","choices":null,"array":false,"required":false,"created_at":"2017-08-10T11:14:50.000-07:00","updated_at":"2017-08-10T11:14:50.000-07:00","parent_class":"SampleType","role":null,"part":null,"routing":null,"preferred_operation_type_id":null,"preferred_field_type_id":null,"allowable_field_types":[],"sample_types":[],"object_types":[]}]}],"object_types":[{"id":295,"name":"Fragment Stock","description":"Fragment stock in 1.5 mL tube, usually stored in M20 fridge.","min":0,"max":1000,"handler":"sample_container","safety":"No safety information","cleanup":"No cleanup information","data":"{ \"min_conc\": 0.000000005, \"rec_conc\": 0.000000025, \"max_vol\": 1500, \"conc_callback\": \"nanodrop_dsdna\", \"short_description\":\"1.5 mL tube\", \"opentrons_labware\": \"24-well-1.5ml-rack\"}","vendor":"No vendor information","created_at":"2014-01-12T16:12:01.000-08:00","updated_at":"2018-09-19T18:46:35.000-07:00","unit":"Fragment","cost":50.0,"release_method":"return","release_description":"","sample_type_id":4,"image":"","prefix":"M20P","rows":null,"columns":null,"sample_type_name":"Fragment"},{"id":634,"name":"Digested DNA Stock","description":"A fragment of dsDNA that has already been digested with enzymes and has phosphorylated ends. Typically has sticky ends.","min":0,"max":1,"handler":"sample_container","safety":"No safety information","cleanup":"No cleanup information","data":"{ \"min_conc\": 0.0000000010, \"rec_conc\": 0.000000025, \"max_vol\": 1500, \"conc_callback\": \"nanodrop_dsdna\", \"short_description\":\"1.5 mL tube\", \"opentrons_labware\": \"24-well-1.5ml-rack\"}","vendor":"No vendor information","created_at":"2017-09-26T14:51:58.000-07:00","updated_at":"2018-09-27T13:19:48.000-07:00","unit":"Fragment","cost":0.01,"release_method":"return","release_description":"","sample_type_id":40,"image":"","prefix":"M20SOP","rows":null,"columns":null,"sample_type_name":"Digested DNA"},{"id":290,"name":"PCR Result","description":"PCR results that contain the fragment we aim to amplify out.","min":0,"max":1000,"handler":"sample_container","safety":"No safety information","cleanup":"No cleanup information","data":"{ \"max_vol\": 100, \"short_description\":\"PCR tube\"}","vendor":"No vendor information","created_at":"2014-01-10T02:39:29.000-08:00","updated_at":"2018-02-10T17:30:38.000-08:00","unit":"Fragment","cost":5.0,"release_method":"query","release_description":"Dispose if there is less than 5 ?L.","sample_type_id":4,"image":"","prefix":"M20SRX","rows":null,"columns":null,"sample_type_name":"Fragment"},{"id":294,"name":"Gibson Reaction Result","description":"A plasmid that was made from Gibson reaction and stayed in the Gibson reaction tube. One can use this to do transform and extract the plasmid.","min":0,"max":1000,"handler":"sample_container","safety":"No safety information","cleanup":"No cleanup information","data":"{ \"max_vol\": 100, \"short_description\":\"PCR tube\"}","vendor":"No vendor information","created_at":"2014-01-12T15:50:42.000-08:00","updated_at":"2018-02-10T18:34:30.000-08:00","unit":"Plasmid","cost":10.0,"release_method":"return","release_description":"","sample_type_id":2,"image":"","prefix":"M20SRX","rows":null,"columns":null,"sample_type_name":"Plasmid"}],"operation_type":{"name":"Gibson Assembly","category":"Cloning","deployed":false,"on_the_fly":false,"field_types":[{"ftype":"sample","role":"input","name":"Insert","sample_types":["Fragment","Digested DNA","Fragment"],"object_types":["Fragment Stock","Digested DNA Stock","PCR Result"],"part":false,"array":true,"routing":"I","preferred_operation_type_id":488,"preferred_field_type_id":5615,"choices":null},{"ftype":"sample","role":"output","name":"Gibson Reaction Product","sample_types":["Plasmid"],"object_types":["Gibson Reaction Result"],"part":false,"array":false,"routing":"P","preferred_operation_type_id":null,"preferred_field_type_id":null,"choices":null},{"ftype":"sample","role":"input","name":"Vector","sample_types":["Fragment","Digested DNA"],"object_types":["Fragment Stock","Digested DNA Stock"],"part":false,"array":false,"routing":"V","preferred_operation_type_id":482,"preferred_field_type_id":5602,"choices":null}],"protocol":"needs \"Cloning Libs/Cloning\"\nneeds \"Standard Libs/Debug Lib\"\nneeds \"Cloning Libs/OpenTronsAq\"\n\n# DESIGNED FOR BATCHES OF 1 T0 32 OPERATIONS\nclass Protocol\n  include Debug\n  include Cloning\n  include OpenTronsAq\n\n  REACTION_VOLUME = 30.0\n    \n  TOTAL_THERMOCYCLERS = 1\n\n  BLOCKS_PER_THERMOCYCLER = 3\n  ZONES_PER_BLOCK = 2\n  REACTIONS_PER_ZONE = 16\n\n  def main\n    current_taken_items = []\n    input_volumes = {\"Insert\" =\u003e (REACTION_VOLUME / 10.0).round(2), \"Vector\" =\u003e (REACTION_VOLUME / 30.0).round(2), \"Gibson Master Mix\" =\u003e (REACTION_VOLUME / 2.0).round(2)}\n    output_volumes = {\"Gibson Reaction Product\" =\u003e (REACTION_VOLUME*0.95 - 2.0).round}\n    \n    data = show do\n\t    title \"Check if at least one thermocycler block is available\"\n\t    warning \"Warning: Selecting \\\"No\\\" will abort the protocol.\"\n\t    select [ \"Yes\", \"No\"], var: \"choice\", label: \"Is there at least 1 thermocycler block currently available?\", default: 0\n\tend\n\n\tif data[:choice] == \"No\"\n\t    show do\n            title \"Number of reactions scheduled exceeds available capacity.\"\n            note \"Number of reactions scheduled exceeds available capacity.\"\n\t        warning \"Aborting protocol. Please check with the lab manager for further instructions.\"\n        end\n\t    return {}\n\tend\n    \n    show do\n        title \"Keep all items on ice\"\n        warning \"Note: All items used in this protocol should be kept on ice (or thawed at room temperature then immediately transfered to ice).\"\n    end\n    \n    operations.add_static_inputs \"Gibson Master Mix\", \"HiFi MM (2x)\", \"Enzyme Stock\"\n    check_user_inputs [\"Insert\", \"Vector\"], input_volumes, current_taken_items\n    assign_input_items [\"Gibson Master Mix\"], input_volumes, current_taken_items\n    return {} if check_for_errors\n    operations.sort_by! {|op| [op.input(\"Vector\").item.id, op.input_array(\"Insert\").items[0].id]}\n    \n    operations.running.each do |op|\n        water_to_add = (REACTION_VOLUME - input_volumes[\"Insert\"]*op.input_array(\"Insert\").items.count - input_volumes[\"Vector\"] - input_volumes[\"Gibson Master Mix\"]).round(2)\n        if water_to_add \u003e 0.000001\n            op.temporary[:water_to_add] = water_to_add\n        else\n            op.error :volume_error, \"Water to add evaluated to negative value, possibly due to too many inputs.\"\n        end\n    end\n    \n    robust_make [\"Gibson Reaction Product\"], current_taken_items\n    \n    robust_take_inputs [\"Insert\", \"Vector\"], current_taken_items, interactive: true\n    \n    ot2_choice = show do\n        title \"Select execution method\"\n        select [\"Yes\", \"No\"], var: \"ot2\", label: \"Is the OT2 robot available?\"\n    end\n    \n    if ot2_choice[:ot2] == \"Yes\"\n        \n        prot = OTAqProtocol.new\n        \n        prot.add_labware_definition('24-well-1.5ml-rack')\n        \n        water_container = prot.labware.load('point', '1', 'Water')\n        water = prot.dummy_item \"DI Water\"\n        prot.assign_wells [water], [water_container.wells(0)]\n        \n        td = prot.modules.load('tempdeck', '10')\n        temp_deck_tubes = prot.labware.load('PCR-strip-tall', '10', 'Temp deck w/ PCR tubes')\n        \n        tip_racks = []\n        tip_racks \u003c\u003c prot.labware.load('tiprack-10ul', '3')\n        tip_racks \u003c\u003c prot.labware.load('tiprack-10ul', '6')\n        p10 = prot.instruments.P10_Single(mount: 'right', tip_racks: tip_racks)\n        \n        prot.assign_wells operations.running.map{|op| op.output(\"Gibson Reaction Product\").item}, temp_deck_tubes.wells[0..operations.running.count-1]\n        \n        prot.assign_wells operations.running.map{|op| op.input(\"Gibson Master Mix\").item}.uniq\n        prot.assign_wells operations.running.map{|op| op.input_array(\"Insert\").items}.flatten.uniq\n        prot.assign_wells operations.running.map{|op| op.input(\"Vector\").item}.uniq\n        \n        td.set_temperature(4)\n        \n        # Add master mix\n        p10.pick_up_tip\n        operations.running.each do |op|\n            mm_to_add = input_volumes[\"Gibson Master Mix\"]\n            while mm_to_add \u003e 10\n                p10.aspirate(10, prot.find_well(op.input(\"Gibson Master Mix\").item).bottom(0))\n                p10.dispense(10, prot.find_well(op.output(\"Gibson Reaction Product\").item).bottom(0))\n                mm_to_add -= 10\n            end\n            p10.aspirate(mm_to_add, prot.find_well(op.input(\"Gibson Master Mix\").item).bottom(0))\n            p10.dispense(mm_to_add, prot.find_well(op.output(\"Gibson Reaction Product\").item).bottom(0))\n        end\n        p10.drop_tip\n        \n        # Add water\n        p10.pick_up_tip\n        operations.running.each do |op|\n            while op.temporary[:water_to_add] \u003e 10\n                p10.aspirate(10, prot.find_well(water))\n                p10.dispense(10, prot.find_well(op.output(\"Gibson Reaction Product\").item).bottom(0))\n                op.temporary[:water_to_add] -= 10\n            end\n            p10.aspirate(op.temporary[:water_to_add], prot.find_well(water))\n            p10.dispense(op.temporary[:water_to_add], prot.find_well(op.output(\"Gibson Reaction Product\").item))\n        end\n        p10.drop_tip\n        \n        # Add other reagents\n        operations.running.each do |op|\n            p10.pick_up_tip\n            p10.aspirate(input_volumes[\"Vector\"], prot.find_well(op.input(\"Vector\").item).bottom(0))\n            p10.dispense(input_volumes[\"Vector\"], prot.find_well(op.output(\"Gibson Reaction Product\").item).bottom(0))\n            p10.drop_tip\n            \n            op.input_array(\"Insert\").items.each do |insert_item|\n                p10.pick_up_tip\n                p10.aspirate(input_volumes[\"Insert\"], prot.find_well(insert_item).bottom(0))\n                p10.dispense(input_volumes[\"Insert\"], prot.find_well(op.output(\"Gibson Reaction Product\").item).bottom(0))\n                p10.drop_tip\n            end\n        end\n        \n        td.set_temperature(50)\n        p10.delay(3600)\n        \n        td.set_temperature(4)\n        \n        robust_take_inputs [\"Gibson Master Mix\" \"Vector\", \"Insert\"], current_taken_items, interactive: true\n        \n        show do\n            title \"Prepare output PCR tubes.\"\n            note \"Get out #{operations.running.count} new PCR tubes and label with the following IDs: #{operations.running.map {|op| op.output(\"Gibson Reaction Product\").item.id}.to_sentence}\"\n        end\n        \n        run_protocol prot\n        \n        show do\n           title \"Set timer for removing inputs\"\n           check \"Set a timer for 20 min, after which the robot should be done pipetting and you can remove and store input items (see following slide).\"\n           timer initial: { hours: 0, minutes: 20, seconds: 0}\n           check \"Do NOT remove the output items (small PCR tubes on temperature block).\"\n        end\n        \n        robust_release_inputs [\"Gibson Master Mix\" \"Vector\", \"Insert\"], current_taken_items, interactive: true\n        \n        show do\n            title \"Set timer for storing outputs\"\n            check \"Set a timer for 1 hr, after which the reactions should be done incubating. At this point, you must reset the run to innactivate the temp block, and then store the output items (see following slides).\"\n           timer initial: { hours: 2, minutes: 0, seconds: 0}\n        end\n\n    else\n        \n        show do\n            title \"Add reagents to reaction tubes\"\n            note \"Get out #{operations.running.count} new PCR tubes. Label and add reagents to tubes according to the following table:\"\n            table operations.start_table\n            .output_item(\"Gibson Reaction Product\")\n            .custom_column(heading: \"Water to add\", checkable: true) { |op| \"#{op.temporary[:water_to_add]} µl of water\"}\n            .custom_column(heading: \"Vector to add\", checkable: true) { |op| \"#{input_volumes[\"Vector\"]} µl of #{op.input(\"Vector\").item.id}\"}\n            .custom_column(heading: \"Inserts to add\", checkable: true) { |op| op.input_array(\"Insert\").items.each_with_index.map {|insert, i| \"#{input_volumes[\"Insert\"]} µl of #{insert.id}\"}.join(\", \")}\n            .end_table\n        end\n        \n        robust_release_inputs [\"Insert\", \"Vector\"], current_taken_items, interactive: true\n        \n        robust_take_inputs [\"Gibson Master Mix\"], current_taken_items, interactive: true\n        \n        show do\n            title \"Add #{operations.running[0].input(\"Gibson Master Mix\").sample.name} to reaction tubes\"\n            note \"Add #{operations.running[0].input(\"Gibson Master Mix\").sample.name} to reaction tubes according to the following table:\"\n            table operations.start_table\n            .output_item(\"Gibson Reaction Product\")\n            .custom_column(heading: \"Gibson Master Mix\", checkable: true) { |op| \"#{input_volumes[\"Gibson Master Mix\"]} µl of #{op.input(\"Gibson Master Mix\").item.id} (#{op.input(\"Gibson Master Mix\").sample.name})\"}\n            .end_table\n        end\n        \n        robust_release_inputs [\"Gibson Master Mix\"], current_taken_items, interactive: true\n        \n    \n        all_block_names = []\n    \tTOTAL_THERMOCYCLERS.times do |tc_number|\n    \t    BLOCKS_PER_THERMOCYCLER.times do |block_number|\n    \t        all_block_names \u003c\u003c \"Thermocycler \" + (tc_number+1).to_s + \", Block \" + (block_number+1).to_s\n    \t    end\n    \tend\n        \n        data = show {\n            title \"Select block of thermocycler\"\n            note \"Please select the thermocycler block you would like to use.\"\n            select all_block_names, var: \"choice\", label: \"Block(s) #\", default: 0\n            }\n        block_name = data[:choice]\n        \n        table_matrix = Array.new {Array.new}\n    \ttable_matrix[0] = [\"Zone in #{block_name}\", \"Gibson Reaction Product Item IDs\" ]\n    \ttable_matrix[1] = [\"Zone 1\", []]\n    \ttable_matrix[2] = [\"Zone 2\", []]\n    \toperations.running.each_with_index do |op, i|\n    \t    if i \u003c 16\n    \t        table_matrix[1][1] \u003c\u003c op.output(\"Gibson Reaction Product\").item.id.to_s\n    \t        op.output(\"Gibson Reaction Product\").item.move (block_name + \", Zone 1\")\n    \t    else\n    \t        table_matrix[2][1] \u003c\u003c op.output(\"Gibson Reaction Product\").item.id.to_s\n    \t        op.output(\"Gibson Reaction Product\").item.move (block_name + \", Zone 2\")\n    \t    end\n    \tend\n        table_matrix[1][1] = table_matrix[1][1].join(\", \")\n        table_matrix[2][1] = table_matrix[2][1].join(\", \")\n        \n        show do\n            title \"Place Gibson reactions into #{block_name}\"\n            note \"Place Gibson reactions into #{block_name} according to the following table:\"\n            table table_matrix\n        end\n    \n        show do\n            title \"Set up PCR cycle for #{block_name}\"\n            bullet \"Select the circular \\\"Set Up Run\\\" button corresponding to #{block_name}\"\n            bullet \"Select \\\"Open Method\\\", then \\\"GIBSON\\\" (located in \\\"Mary\\\" folder)\"\n            bullet \"Select \\\"Verify Block\\\", and \\\"Start Run\\\"\"\n        end\n    end\n    \n    store_outputs_with_volumes output_volumes, current_taken_items, interactive: true\n    return {}\n  end\nend","precondition":"def precondition(op)\n    true\nend","cost_model":"# Gibson Assembly Cost Model\n\n# All related numbers come from 'Damp Lab Services_Dec2019'\n# materials are calculated on 'Damp Lab Services_Dec2019'\n# l stands for labor\n\ndef cost(op)\n    l = 20.9 * Parameter.get_float('labor rate (min)')\n    {labor: 0, materials: 7.98+l }\nend\n","documentation":"This is run using linear dsDNA stock items and is a precursor to \u003cb\u003eTransformation\u003c/b\u003e. The technician will perform a Gibson Assembly reaction using the specified vector and inserts. Up to 4 inserts (plus 1 vector) can be assembled at once using this protocol.\u003cbr\u003e\u003cbr\u003e\n\n------\u003cb\u003eInput Volume(s)\u003c/b\u003e------\u003cbr\u003e\nVector -\u003e 1 µl\u003cbr\u003e\nInsert -\u003e 3 µl\u003cbr\u003e\u003cbr\u003e\n\n------\u003cb\u003eOutput Volume(s)\u003c/b\u003e------\u003cbr\u003e\nGibson Reaction Product -\u003e 27 µl","test":"","timing":null}}]}